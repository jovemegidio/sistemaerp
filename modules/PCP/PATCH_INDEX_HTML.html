<!-- 
==============================================================================
INSTRUES PARA INTEGRAR OTIMIZAES NO index.html
==============================================================================

PASSO 1: Adicionar scripts de otimizao ANTES do fechamento do</body>

Procure por esta linha no final do arquivo (antes de</body>):
    </script></body>
</html>

E adicione ANTES de</body>, DEPOIS do ltimo </script>:

-->

<!-- ============================================ -->
<!-- OTIMIZAES PCP - INCIO -->
<!-- ============================================ -->
<script src="modules/PCP/pcp-optimizations.js"></script>
<script src="modules/PCP/pcp-integration.js"></script>
<!-- ============================================ -->
<!-- OTIMIZAES PCP - FIM -->
<!-- ============================================ -->

<!--
==============================================================================
PASSO 2: Adicionar modal de preview de Excel
==============================================================================

Procure pela seo de modais (geralmente aps <!-- MODALS --> ou similar)
e adicione este modal:

-->

<!-- Modal de Preview de Excel -->
<div id="modal-excel-preview" class="modal">
    <div class="modal-backdrop"></div>
    <div class="modal-content" style="max-width: 900px; max-height: 90vh; display: flex; flex-direction: column;">
        <div class="modal-header" style="flex-shrink: 0;">
            <h2><i class="fas fa-file-excel"></i> Preview - Ordem de Produo</h2>
            <button class="modal-close" onclick="closeModal('modal-excel-preview')">&times;</button>
        </div>
        
        <div class="modal-body" style="flex: 1; overflow: auto; padding: 24px;">
            <div class="preview-summary" style="background: linear-gradient(135deg, #f0f9ff, #e0f2fe); padding: 20px; border-radius: 12px; margin-bottom: 24px;">
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px;">
                    <div>
                        <div style="font-size: 12px; color: #64748b; margin-bottom: 4px;">Cliente</div>
                        <div id="preview-cliente" style="font-size: 16px; font-weight: 600; color: #1e293b;">-</div>
                    </div>
                    <div>
                        <div style="font-size: 12px; color: #64748b; margin-bottom: 4px;">Total de Itens</div>
                        <div id="preview-total-itens" style="font-size: 16px; font-weight: 600; color: #1e293b;">0</div>
                    </div>
                    <div>
                        <div style="font-size: 12px; color: #64748b; margin-bottom: 4px;">Valor Total</div>
                        <div id="preview-valor-total" style="font-size: 16px; font-weight: 600; color: #10b981;">R$ 0,00</div>
                    </div>
                    <div>
                        <div style="font-size: 12px; color: #64748b; margin-bottom: 4px;">Prazo</div>
                        <div id="preview-prazo" style="font-size: 16px; font-weight: 600; color: #1e293b;">-</div>
                    </div>
                </div>
            </div>
            
            <div class="table-responsive" style="border: 1px solid #e2e8f0; border-radius: 12px; overflow: hidden;">
                <table id="preview-table" class="table" style="margin: 0;">
                    <thead style="background: linear-gradient(135deg, #f8fafc, #f1f5f9);">
                        <tr>
                            <th style="padding: 12px 16px; text-align: left;">Produto</th>
                            <th style="padding: 12px 16px; text-align: center;">Quantidade</th>
                            <th style="padding: 12px 16px; text-align: right;">Valor Unit.</th>
                            <th style="padding: 12px 16px; text-align: right;">Valor Total</th>
                            <th style="padding: 12px 16px; text-align: center;">Prazo</th>
                        </tr>
                    </thead>
                    <tbody id="preview-table-body">
                        <!-- Preenchido dinamicamente -->
                    </tbody>
                </table>
            </div>
        </div>
        
        <div class="modal-footer" style="flex-shrink: 0; display: flex; gap: 12px; justify-content: flex-end;">
            <button class="btn btn-secondary" onclick="closeModal('modal-excel-preview')" style="display: flex; align-items: center; gap: 8px;">
                <i class="fas fa-times"></i> Cancelar
            </button>
            <button class="btn btn-primary" id="btn-confirmar-excel" style="display: flex; align-items: center; gap: 8px;">
                <i class="fas fa-download"></i> Gerar Excel
            </button>
        </div>
    </div>
</div>

<!--
==============================================================================
PASSO 3: Adicionar Centro de Notificaes no Header
==============================================================================

Procure pelo elemento .pcp-topbar ou header principal e adicione este cdigo
ANTES do elemento de usurio (geralmente .user-menu ou similar):

-->

<!-- Centro de Notificaes -->
<div class="notification-center" style="margin-right: 16px;">
    <button id="notification-bell" class="notification-bell">
        <i class="fas fa-bell"></i>
        <span class="notification-badge" id="notification-count" style="display: none;">0</span>
    </button>
    
    <div id="notification-dropdown" class="notification-dropdown">
        <div class="notification-header">
            <h3>Notificaes</h3>
            <button onclick="window.notificationCenter.marcarTodasLidas.()">Marcar todas como lidas</button>
        </div>
        
        <div id="notification-list" class="notification-list">
            <div class="no-notifications">Nenhuma notificao</div>
        </div>
        
        <div class="notification-footer">
            <a href="#" onclick="event.preventDefault(); window.notificationCenter.abrirHistoricoCompleto.()">Ver todas</a>
        </div>
    </div>
</div>

<!--
==============================================================================
PASSO 4: Adicionar CSS das novas funcionalidades
==============================================================================

Procure pela seo <style> ou arquivo CSS principal e adicione:

-->

<style>
/* ============================================ */
/* CENTRO DE NOTIFICAES */
/* ============================================ */
.notification-center {
    position: relative;
}

.notification-bell {
    position: relative;
    background: none;
    border: none;
    color: var(--text-color, #1f2937);
    font-size: 20px;
    cursor: pointer;
    padding: 8px;
    border-radius: 8px;
    transition: background 0.2s;
}

.notification-bell:hover {
    background: rgba(0, 0, 0, 0.05);
}

.notification-badge {
    position: absolute;
    top: 4px;
    right: 4px;
    background: linear-gradient(135deg, #ef4444, #dc2626);
    color: white;
    font-size: 11px;
    font-weight: 600;
    padding: 2px 6px;
    border-radius: 10px;
    min-width: 18px;
    height: 18px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.notification-dropdown {
    position: absolute;
    top: calc(100% + 8px);
    right: 0;
    width: 380px;
    background: white;
    border-radius: 12px;
    box-shadow: 0 12px 48px rgba(0, 0, 0, 0.15);
    opacity: 0;
    visibility: hidden;
    transform: translateY(-10px);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    z-index: 1000;
    max-height: 500px;
    display: flex;
    flex-direction: column;
}

.notification-dropdown.active {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
}

.notification-header {
    padding: 16px 20px;
    border-bottom: 1px solid #e5e7eb;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.notification-header h3 {
    margin: 0;
    font-size: 16px;
    font-weight: 600;
}

.notification-header button {
    background: none;
    border: none;
    color: #3b82f6;
    font-size: 13px;
    cursor: pointer;
    padding: 4px 8px;
    border-radius: 6px;
    transition: background 0.2s;
}

.notification-header button:hover {
    background: #eff6ff;
}

.notification-list {
    flex: 1;
    overflow-y: auto;
    max-height: 400px;
}

.notification-item {
    padding: 16px 20px;
    display: flex;
    gap: 12px;
    cursor: pointer;
    transition: background 0.2s;
    border-bottom: 1px solid #f3f4f6;
}

.notification-item:hover {
    background: #f9fafb;
}

.notification-item.unread {
    background: #eff6ff;
}

.notification-icon {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

.notification-success {
    background: linear-gradient(135deg, #10b981, #059669);
    color: white;
}

.notification-error {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    color: white;
}

.notification-warning {
    background: linear-gradient(135deg, #f59e0b, #d97706);
    color: white;
}

.notification-info {
    background: linear-gradient(135deg, #3b82f6, #2563eb);
    color: white;
}

.notification-content {
    flex: 1;
}

.notification-content p {
    margin: 0 0 4px;
    font-size: 14px;
    color: #1f2937;
}

.notification-time {
    font-size: 12px;
    color: #6b7280;
}

.notification-footer {
    padding: 12px 20px;
    border-top: 1px solid #e5e7eb;
    text-align: center;
}

.notification-footer a {
    color: #3b82f6;
    text-decoration: none;
    font-size: 14px;
    font-weight: 500;
}

.notification-footer a:hover {
    text-decoration: underline;
}

.no-notifications {
    padding: 40px 20px;
    text-align: center;
    color: #9ca3af;
    font-size: 14px;
}

/* ============================================ */
/* MODAL DE PREVIEW */
/* ============================================ */
#modal-excel-preview .preview-summary {
    animation: slideInDown 0.3s ease-out;
}

@keyframes slideInDown {
    from {
        opacity: 0;
        transform: translateY(-20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

#preview-table tbody tr {
    transition: background 0.2s;
}

#preview-table tbody tr:hover {
    background: #f9fafb;
}

#preview-table tbody tr:nth-child(even) {
    background: #f8fafc;
}

#preview-table tbody tr:nth-child(even):hover {
    background: #f1f5f9;
}

/* ============================================ */
/* LOADING OVERLAY (adicionação automaticamente) */
/* ============================================ */
#pcp-loading-overlay {
    /* Estilos j aplicaçãos via JavaScript */
}

/* ============================================ */
/* ANIMAES MELHORADAS */
/* ============================================ */
.pcp-view {
    animation: fadeIn 0.3s ease-out;
}

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* ============================================ */
/* RESPONSIVIDADE */
/* ============================================ */
@media (max-width: 768px) {
    .notification-dropdown {
        width: calc(100vw - 32px);
        right: -100px;
    }
    
    #modal-excel-preview .modal-content {
        max-width: 95vw !important;
    }
    
    .preview-summary > div {
        grid-template-columns: 1fr !important;
    }
}
</style>

<!--
==============================================================================
PASSO 5: Verificao Final
==============================================================================

Aps fazer as modificaes, verifique:

1.  Scripts pcp-optimizations.js e pcp-integration.js carregam
2.  Console mostra mensagem " Otimizaes PCP carregadas com sucesso!"
3.  Console mostra " Integrao PCP concluda!"
4.  Notificao toast aparece: "Otimizaes PCP ativadas!"
5.  Todas as 7 pginas continuam funcionando
6.  Centro de notificaes aparece no header
7.  Atalhos de teclação funcionam (Ctrl+K, Ctrl+N, Esc)

==============================================================================
EXEMPLO DE LOCALIZAO NO index.html
==============================================================================

ANTES:
    </script></body>
</html>

DEPOIS:
    </script>
    
    <!-- Otimizaes PCP -->
    <script src="modules/PCP/pcp-optimizations.js"></script>
    <script src="modules/PCP/pcp-integration.js"></script></body>
</html>

==============================================================================
-->
