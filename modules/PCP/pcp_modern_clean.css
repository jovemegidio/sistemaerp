/* Modern PCP Dashboard - Clean Version 3.0 - Visual Update */
@import url('https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&display=swap');

:root{
    /* Paleta de cores minimalista e profissional */
    --cor-primaria: #2563eb;
    --cor-secundaria: #1e40af;
    --cor-accent: #0ea5e9;
    --cor-sucesso: #059669;
    --cor-aviso: #d97706;
    --cor-erro: #dc2626;
    
    /* Tons neutros elegantes */
    --cor-fundo: #ffffff;
    --cor-container: #ffffff;
    --cor-surface: #ffffff;
    --cor-surface-hover: #f8fafc;
    
    /* Tipografia balanceada */
    --cor-texto: #0f172a;
    --cor-texto-secundario: #334155;
    --cor-texto-claro: #64748b;
    --cor-texto-muted: #94a3b8;
    
    /* Bordas sutis */
    --cor-borda: #e2e8f0;
    --cor-borda-clara: #f1f5f9;
    --cor-borda-escura: #cbd5e1;
    
    /* Dimensões e espaçamentos */
    --largura-sidebar: 64px;
    --sidebar-expanded-width: 280px;
    --header-height: 64px;
    --max-content-width: 1400px;
    --base-font-size: 14px;
    --radius-sm: 6px;
    --radius-md: 8px;
    --radius-lg: 12px;
    
    /* Sombras elegantes */
    --shadow-sm: 0 1px 2px rgba(0,0,0,0.05);
    --shadow-md: 0 4px 6px rgba(0,0,0,0.07);
    --shadow-lg: 0 10px 15px rgba(0,0,0,0.1);
    --shadow-xl: 0 20px 25px rgba(0,0,0,0.15);
    
    /* Transições suaves */
    --transition-fast: 0.15s ease;
    --transition-normal: 0.3s ease;
    --transition-slow: 0.5s ease;
}

/* Reset e base */
*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%}
body{
    font-family:'Inter',-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;
    background:var(--cor-fundo);
    color:var(--cor-texto);
    font-size:var(--base-font-size);
    line-height:1.5;
    font-weight:400;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
}

/* Header superior moderno */
.topbar{
    position:fixed;
    top:0;
    left:0;
    right:0;
    height:var(--header-height);
    background:#ffffff;
    border-bottom:1px solid var(--cor-borda);
    display:flex;
    align-items:center;
    justify-content:space-between;
    padding:0 24px;
    z-index:1000;
    box-shadow:var(--shadow-md);
}

.topbar-left{
    display:flex;
    align-items:center;
    gap:16px;
}

.header-logo{
    height:32px;
    width:auto;
    transition: opacity 0.3s ease, filter 0.3s ease;
}

.topbar-center{
    display:flex;
    align-items:center;
    gap:24px;
    flex:1;
    justify-content:center;
    max-width:600px;
}

.nav-icons{
    display:flex;
    gap:8px;
}

.nav-icon-btn{
    width:40px;
    height:40px;
    border:none;
    background:transparent;
    color:var(--cor-texto-claro);
    cursor:pointer;
    border-radius:6px;
    display:flex;
    align-items:center;
    justify-content:center;
    transition:all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
    position:relative;
    overflow:hidden;
}

.nav-icon-btn::before{
    content:'';
    position:absolute;
    top:50%;
    left:50%;
    width:0;
    height:0;
    background:var(--cor-primaria);
    border-radius:50%;
    transition:all 0.4s ease;
    transform:translate(-50%, -50%);
    z-index:-1;
    opacity:0.1;
}

.nav-icon-btn:hover{
    color:var(--cor-primaria);
    transform:translateY(-2px) rotate(5deg) scale(1.1);
}

.nav-icon-btn:hover::before{
    width:50px;
    height:50px;
}

.nav-icon-btn.active{
    background:var(--cor-primaria) !important;
    color:#ffffff !important;
    transform:translateY(-2px) scale(1.05);
    box-shadow:0 4px 12px rgba(30,64,175,0.3);
}

.nav-icon-btn.active::before{
    width:50px;
    height:50px;
    background:rgba(255,255,255,0.2);
}

.search-wrapper{
    position:relative;
    width:100%;
    max-width:400px;
}

.search-input{
    width:100%;
    height:40px;
    padding:0 16px 0 40px;
    border:1px solid var(--cor-borda);
    border-radius:20px;
    background:#ffffff;
    font-size:13px;
    font-family:inherit;
    outline:none;
    transition:all 0.2s;
}

.search-input:focus{
    border-color:var(--cor-primaria);
    box-shadow:0 0 0 3px rgba(30,64,175,0.1);
}

.search-input::placeholder{
    color:var(--cor-texto-claro);
    font-weight:400;
}

.search-icon{
    position:absolute;
    left:12px;
    top:50%;
    transform:translateY(-50%);
    color:var(--cor-texto-claro);
    font-size:16px;
}

.menu-toggle-btn{
    width:40px;
    height:40px;
    border:none;
    background:transparent;
    color:var(--cor-texto-claro);
    cursor:pointer;
    border-radius:6px;
    display:none;
}

.topbar-right{
    display:flex;
    align-items:center;
    gap:16px;
}

.notification-icons{
    display:flex;
    gap:8px;
}

.notification-btn{
    width:40px;
    height:40px;
    border:none;
    background:transparent;
    color:var(--cor-texto-claro);
    cursor:pointer;
    border-radius:6px;
    display:flex;
    align-items:center;
    justify-content:center;
    transition:all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
    position:relative;
    overflow:hidden;
}

.notification-btn::before{
    content:'';
    position:absolute;
    top:50%;
    left:50%;
    width:0;
    height:0;
    background:var(--cor-primaria);
    border-radius:50%;
    transition:all 0.4s ease;
    transform:translate(-50%, -50%);
    z-index:-1;
    opacity:0.1;
}

.notification-btn:hover{
    color:var(--cor-primaria);
    transform:translateY(-2px) scale(1.1);
}

.notification-btn:hover::before{
    width:50px;
    height:50px;
}

.notification-btn i{
    transition:transform 0.3s ease;
}

.notification-btn:hover i{
    transform:rotate(-10deg) scale(1.2);
}

.notification-btn{
    position:relative;
}

.notification-badge{
    position:absolute;
    top:-8px;
    right:-8px;
    background:linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
    color:#ffffff;
    font-size:11px;
    font-weight:700;
    padding:2px 6px;
    border-radius:12px;
    min-width:18px;
    height:18px;
    display:flex;
    align-items:center;
    justify-content:center;
    transform:scale(0);
    transition:all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
    box-shadow:0 2px 4px rgba(239,68,68,0.3);
}

.notification-badge.show{
    transform:scale(1);
    animation:badgePulse 0.6s ease;
}

.notification-badge.hidden{
    transform:scale(0);
}

@keyframes badgePulse{
    0%{
        transform:scale(0);
    }
    50%{
        transform:scale(1.2);
    }
    100%{
        transform:scale(1);
    }
}

/* Enhanced notification bell for dark mode */
body.dark-mode .notification-badge{
    background:linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
    box-shadow:0 2px 4px rgba(245,158,11,0.3);
}

.user-menu{
    display:flex;
    align-items:center;
    gap:12px;
    cursor:pointer;
    padding:8px;
    border-radius:6px;
    transition:all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
    position:relative;
    overflow:hidden;
}

.user-menu::before{
    content:'';
    position:absolute;
    top:50%;
    left:50%;
    width:0;
    height:0;
    background:var(--cor-primaria);
    border-radius:50%;
    transition:all 0.4s ease;
    transform:translate(-50%, -50%);
    z-index:-1;
    opacity:0.05;
}

.user-menu:hover{
    transform:translateY(-2px) scale(1.02);
}

.user-menu:hover::before{
    width:100px;
    height:100px;
}

.user-menu > *{
    position:relative;
    z-index:1;
}

.user-text{
    font-weight:500;
    color:var(--cor-texto);
    font-size:13px;
}

.avatar-circle{
    width:32px;
    height:32px;
    border-radius:50%;
    overflow:hidden;
    background:var(--cor-primaria);
    display:flex;
    align-items:center;
    justify-content:center;
}

.avatar-circle img{
    width:100%;
    height:100%;
    object-fit:cover;
}

/* Sidebar compacta moderna */
.sidebar{
    position:fixed;
    left:0;
    top:var(--header-height);
    bottom:0;
    width:var(--largura-sidebar);
    background:#ffffff;
    border-right:1px solid var(--cor-borda);
    padding:16px 8px;
    display:flex;
    flex-direction:column;
    align-items:center;
    z-index:999;
    box-shadow:var(--shadow-md);
}

.sidebar-header{
    padding:8px 0;
    margin-bottom:16px;
}

.sidebar-logo{
    height:24px;
    width:auto;
}

.logo-aluforce{
    padding:8px 0;
}

.sidebar-nav{
    width:100%;
}

.sidebar-nav ul{
    list-style:none;
    display:flex;
    flex-direction:column;
    gap:8px;
}

.sidebar-nav a{
    display:flex;
    align-items:center;
    justify-content:center;
    width:48px;
    height:48px;
    border-radius:12px;
    color:var(--cor-texto-claro);
    text-decoration:none;
    transition:all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
    position:relative;
    overflow:hidden;
}

.sidebar-nav a::before{
    content:'';
    position:absolute;
    top:50%;
    left:50%;
    width:0;
    height:0;
    background:var(--cor-primaria);
    border-radius:50%;
    transition:all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
    transform:translate(-50%, -50%);
    z-index:-1;
}

.sidebar-nav a:hover{
    color:var(--cor-primaria);
    transform:translateY(-3px) scale(1.05);
    box-shadow:0 8px 25px rgba(30,64,175,0.2);
}

.sidebar-nav a:hover::before{
    width:60px;
    height:60px;
    background:rgba(30,64,175,0.1);
}

.sidebar-nav a.active{
    background:var(--cor-primaria);
    color:#ffffff;
    transform:translateY(-2px);
    box-shadow:0 6px 20px rgba(30,64,175,0.3);
}

.sidebar-nav a.active::before{
    width:48px;
    height:48px;
    background:rgba(255,255,255,0.1);
}

.nav-icon{
    font-size:20px;
    transition:transform 0.3s ease;
    z-index:1;
}

.sidebar-nav a:hover .nav-icon{
    transform:rotate(10deg) scale(1.1);
}

.sidebar-nav a.active .nav-icon{
    transform:scale(1.1);
}

/* Tooltips animados do sidebar */
.nav-tooltip{
    position:absolute;
    left:calc(100% + 12px);
    top:50%;
    transform:translateY(-50%) translateX(-10px);
    background:linear-gradient(135deg, #1e293b 0%, #374151 100%);
    color:#ffffff;
    padding:8px 16px;
    border-radius:8px;
    font-size:13px;
    font-weight:500;
    white-space:nowrap;
    opacity:0;
    pointer-events:none;
    transition:all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
    z-index:1000;
    box-shadow:0 8px 25px rgba(0,0,0,0.2), 0 0 0 1px rgba(255,255,255,0.1);
}

.nav-tooltip::before{
    content:'';
    position:absolute;
    left:-6px;
    top:50%;
    transform:translateY(-50%);
    width:0;
    height:0;
    border-top:6px solid transparent;
    border-bottom:6px solid transparent;
    border-right:6px solid #1e293b;
    transition:all 0.3s ease;
}

.sidebar-nav a:hover .nav-tooltip{
    opacity:1;
    transform:translateY(-50%) translateX(0);
    animation:tooltipPulse 0.6s ease;
}

@keyframes tooltipPulse{
    0%{
        transform:translateY(-50%) translateX(0) scale(0.8);
        opacity:0;
    }
    50%{
        transform:translateY(-50%) translateX(0) scale(1.05);
        opacity:0.8;
    }
    100%{
        transform:translateY(-50%) translateX(0) scale(1);
        opacity:1;
    }
}

/* Delay escalonado para tooltips mais interessantes */
.sidebar-nav li:nth-child(1) .nav-tooltip{
    transition-delay:0ms;
}

.sidebar-nav li:nth-child(2) .nav-tooltip{
    transition-delay:50ms;
}

.sidebar-nav li:nth-child(3) .nav-tooltip{
    transition-delay:100ms;
}

.sidebar-nav li:nth-child(4) .nav-tooltip{
    transition-delay:150ms;
}

/* Tooltip com gradiente mais sofisticado baseado no tipo */
#btn-dashboard:hover .nav-tooltip{
    background:linear-gradient(135deg, #1e40af 0%, #3b82f6 100%);
}

#btn-materiais:hover .nav-tooltip{
    background:linear-gradient(135deg, #7c3aed 0%, #8b5cf6 100%);
}

#btn-ordem-compra:hover .nav-tooltip{
    background:linear-gradient(135deg, #059669 0%, #10b981 100%);
}

/* Logout Confirmation Modal */
.logout-modal-header{
    background:linear-gradient(135deg, #dc2626 0%, #ef4444 100%);
    color:#ffffff;
    border-bottom:none;
}

.logout-modal-header h3{
    color:#ffffff;
    display:flex;
    align-items:center;
    gap:12px;
    font-size:18px;
}

.logout-icon-wrapper{
    width:80px;
    height:80px;
    background:linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%);
    border-radius:50%;
    display:flex;
    align-items:center;
    justify-content:center;
    margin:0 auto 20px auto;
    border:3px solid #fecaca;
}

.logout-icon-wrapper i{
    font-size:36px;
    color:#dc2626;
    animation:pulseWarning 2s infinite;
}

@keyframes pulseWarning{
    0%, 100%{
        transform:scale(1);
        opacity:1;
    }
    50%{
        transform:scale(1.1);
        opacity:0.8;
    }
}

.logout-message{
    font-size:16px;
    font-weight:600;
    color:var(--cor-texto);
    margin:0 0 8px 0;
}

.logout-submessage{
    font-size:14px;
    color:var(--cor-texto-claro);
    margin:0 0 24px 0;
    line-height:1.5;
}

.btn.danger{
    background:linear-gradient(135deg, #dc2626 0%, #ef4444 100%);
    color:#ffffff;
    border:none;
    transition:all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
    position:relative;
    overflow:hidden;
}

.btn.danger::before{
    content:'';
    position:absolute;
    top:50%;
    left:50%;
    width:0;
    height:0;
    background:rgba(255,255,255,0.2);
    border-radius:50%;
    transition:all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
    transform:translate(-50%, -50%);
    z-index:-1;
}

.btn.danger:hover{
    transform:translateY(-2px);
    box-shadow:0 8px 25px rgba(220,38,38,0.3);
    background:linear-gradient(135deg, #b91c1c 0%, #dc2626 100%);
}

.btn.danger:hover::before{
    width:120px;
    height:120px;
}

/* Logout Success Toast */
.logout-toast{
    background:linear-gradient(135deg, #10b981 0%, #059669 100%);
    color:#ffffff;
    border:none;
    position:relative;
    overflow:hidden;
    min-width:320px;
    border-radius:12px;
}

.logout-toast .toast-content{
    padding:4px 0;
    position:relative;
    z-index:2;
}

.logout-toast .toast-icon{
    background:rgba(255,255,255,0.2);
    border-radius:50%;
    width:40px;
    height:40px;
    display:flex;
    align-items:center;
    justify-content:center;
}

.logout-toast .toast-icon i{
    color:#ffffff;
    font-size:18px;
    animation:checkAnimation 0.6s ease;
}

@keyframes checkAnimation{
    0%{
        transform:scale(0) rotate(45deg);
        opacity:0;
    }
    50%{
        transform:scale(1.2) rotate(45deg);
        opacity:0.8;
    }
    100%{
        transform:scale(1) rotate(0deg);
        opacity:1;
    }
}

.toast-message-wrapper{
    display:flex;
    flex-direction:column;
    gap:2px;
}

.logout-toast .toast-title{
    font-weight:600;
    font-size:15px;
    color:#ffffff;
    margin:0;
}

.logout-toast .toast-message{
    font-size:13px;
    color:rgba(255,255,255,0.9);
    margin:0;
}

.logout-toast-progress{
    position:absolute;
    bottom:0;
    left:0;
    height:3px;
    width:0%;
    background:linear-gradient(90deg, rgba(255,255,255,0.6) 0%, rgba(255,255,255,0.9) 100%);
    transition:width 2s linear;
    border-radius:0 0 12px 12px;
}

/* Enhanced modal backdrop for logout */
#logout-confirmation-modal{
    background: rgba(15,23,42,0.8);
    backdrop-filter: blur(12px);
    transition: opacity 0.15s ease-out;
}

#logout-confirmation-modal.hidden{
    opacity: 0;
    pointer-events: none;
}

#logout-confirmation-modal .modal-dialog{
    animation: modalFastIn 0.2s ease-out;
    transition: all 0.15s ease-out;
}

#logout-confirmation-modal.hidden .modal-dialog{
    animation: modalFastOut 0.15s ease-in;
}

@keyframes modalFastIn{
    0%{
        transform: scale(0.9) translateY(-20px);
        opacity: 0;
    }
    100%{
        transform: scale(1) translateY(0);
        opacity: 1;
    }
}

@keyframes modalFastOut{
    0%{
        transform: scale(1) translateY(0);
        opacity: 1;
    }
    100%{
        transform: scale(0.9) translateY(-20px);
        opacity: 0;
    }
}

/* Logout button loading state */
#logout-confirm:disabled {
    background: #6b7280 !important;
    cursor: not-allowed;
    transform: none !important;
}

#logout-confirm:disabled:hover {
    background: #6b7280 !important;
    transform: none !important;
}

/* View Mode Styles */
.dashboard-grid.list-mode{
    display:flex;
    flex-direction:column;
    gap:16px;
}

.dashboard-grid.list-mode .panel{
    width:100%;
    margin:0;
}

.panel-body.list-view{
    display:flex;
    flex-direction:column;
    gap:8px;
}

.panel-body.grid-view{
    display:grid;
    grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));
    gap:12px;
}

/* Quick Modal Styles */
#quick-modal .modal-body{
    max-height:400px;
    padding:20px;
}

/* Notifications Panel */
.notifications-header,
.messages-header,
.settings-header,
.user-settings-header,
.profile-header{
    padding-bottom:16px;
    border-bottom:1px solid #e2e8f0;
    margin-bottom:16px;
    display:flex;
    justify-content:space-between;
    align-items:center;
}

.clear-notifications-btn{
    background:transparent;
    border:1px solid #e5e7eb;
    color:#6b7280;
    padding:4px 12px;
    border-radius:6px;
    font-size:12px;
    cursor:pointer;
    transition:all 0.2s ease;
}

.clear-notifications-btn:hover{
    background:#f3f4f6;
    border-color:#d1d5db;
    color:#374151;
}

.no-notifications{
    text-align:center;
    padding:40px 20px;
    color:#9ca3af;
    font-style:italic;
}

.notification-item{
    position:relative;
    padding-right:40px;
}

.notification-remove{
    position:absolute;
    top:12px;
    right:12px;
    background:transparent;
    border:none;
    color:#9ca3af;
    cursor:pointer;
    width:20px;
    height:20px;
    border-radius:50%;
    display:flex;
    align-items:center;
    justify-content:center;
    font-size:12px;
    transition:all 0.2s ease;
}

.notification-remove:hover{
    background:#f3f4f6;
    color:#6b7280;
}

/* Bell ring animation */
@keyframes bellRing {
    0%, 100% { transform: rotate(0deg); }
    10%, 30%, 50%, 70%, 90% { transform: rotate(-10deg); }
    20%, 40%, 60%, 80% { transform: rotate(10deg); }
}

/* Dark mode styles for new elements */
body.dark-mode .clear-notifications-btn{
    border-color:#4b5563 !important;
    color:#d1d5db !important;
}

body.dark-mode .clear-notifications-btn:hover{
    background:#374151 !important;
    border-color:#6b7280 !important;
    color:#f9fafb !important;
}

body.dark-mode .no-notifications{
    color:#6b7280 !important;
}

body.dark-mode .notification-remove{
    color:#6b7280 !important;
}

body.dark-mode .notification-remove:hover{
    background:#374151 !important;
    color:#d1d5db !important;
}

.notifications-header h4,
.messages-header h4,
.settings-header h4,
.user-settings-header h4{
    margin:0;
    color:var(--cor-texto);
    font-size:16px;
    font-weight:600;
}

.notifications-list,
.messages-list{
    display:flex;
    flex-direction:column;
    gap:12px;
    max-height:300px;
    overflow-y:auto;
}

.notification-item,
.message-item{
    display:flex;
    align-items:flex-start;
    gap:12px;
    padding:12px;
    background:#f8fafc;
    border-radius:8px;
    border-left:4px solid #e2e8f0;
    transition:all 0.2s ease;
}

.notification-item:hover,
.message-item:hover{
    background:#f1f5f9;
    transform:translateY(-1px);
}

.notification-item.info{
    border-left-color:#3b82f6;
}

.notification-item.warning{
    border-left-color:#f59e0b;
}

.notification-item.success{
    border-left-color:#10b981;
}

.notification-item.error{
    border-left-color:#ef4444;
}

.notification-icon{
    width:32px;
    height:32px;
    border-radius:50%;
    display:flex;
    align-items:center;
    justify-content:center;
    font-size:14px;
}

.notification-item.info .notification-icon{
    background:rgba(59,130,246,0.1);
    color:#3b82f6;
}

.notification-item.warning .notification-icon{
    background:rgba(245,158,11,0.1);
    color:#f59e0b;
}

.notification-item.success .notification-icon{
    background:rgba(16,185,129,0.1);
    color:#10b981;
}

.notification-item.error .notification-icon{
    background:rgba(239,68,68,0.1);
    color:#ef4444;
}

.notification-content,
.message-content{
    flex:1;
}

.notification-message,
.message-text{
    font-size:14px;
    color:var(--cor-texto);
    margin-bottom:4px;
}

.notification-time,
.message-time{
    font-size:12px;
    color:var(--cor-texto-claro);
}

/* Messages specific */
.message-item.unread{
    background:linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
    border-left-color:#0284c7;
}

.message-avatar{
    width:36px;
    height:36px;
    border-radius:50%;
    background:var(--cor-primaria);
    display:flex;
    align-items:center;
    justify-content:center;
    color:#ffffff;
    font-size:18px;
}

.message-from{
    font-weight:600;
    font-size:14px;
    color:var(--cor-texto);
    margin-bottom:2px;
}

.message-indicator{
    width:8px;
    height:8px;
    background:#3b82f6;
    border-radius:50%;
    margin-top:4px;
}

/* Settings Panel */
.settings-list,
.user-settings-list{
    display:flex;
    flex-direction:column;
    gap:16px;
}

.setting-item{
    display:flex;
    justify-content:space-between;
    align-items:center;
    padding:12px 0;
    border-bottom:1px solid #f1f5f9;
}

.setting-label{
    display:flex;
    align-items:center;
    gap:8px;
    color:var(--cor-texto);
    font-weight:500;
}

/* Toggle Switch */
.toggle-switch{
    position:relative;
    display:inline-block;
    width:44px;
    height:24px;
}

.toggle-switch input{
    opacity:0;
    width:0;
    height:0;
}

.toggle-slider{
    position:absolute;
    cursor:pointer;
    top:0;
    left:0;
    right:0;
    bottom:0;
    background:#ccc;
    border-radius:24px;
    transition:all 0.3s ease;
}

.toggle-slider:before{
    position:absolute;
    content:"";
    height:18px;
    width:18px;
    left:3px;
    bottom:3px;
    background:#ffffff;
    border-radius:50%;
    transition:all 0.3s ease;
    box-shadow:0 1px 3px rgba(0,0,0,0.2);
}

input:checked + .toggle-slider{
    background:var(--cor-primaria);
}

input:checked + .toggle-slider:before{
    transform:translateX(20px);
}

/* Profile Panel */
.profile-header{
    display:flex;
    align-items:center;
    gap:16px;
    padding-bottom:20px;
}

.profile-avatar{
    width:60px;
    height:60px;
    border-radius:50%;
    overflow:hidden;
    border:3px solid var(--cor-primaria);
}

.profile-avatar img{
    width:100%;
    height:100%;
    object-fit:cover;
}

.profile-info h4{
    margin:0 0 4px 0;
    color:var(--cor-texto);
    font-size:18px;
    font-weight:600;
}

.profile-info p{
    margin:0 0 2px 0;
    color:var(--cor-texto-claro);
    font-size:14px;
}

.profile-email{
    color:var(--cor-primaria) !important;
    font-weight:500;
}

.profile-stats{
    display:grid;
    grid-template-columns:repeat(auto-fit, minmax(120px, 1fr));
    gap:16px;
}

.stat-item{
    text-align:center;
    padding:16px;
    background:#f8fafc;
    border-radius:8px;
    border:1px solid #e2e8f0;
}

.stat-label{
    font-size:12px;
    color:var(--cor-texto-claro);
    margin-bottom:4px;
    text-transform:uppercase;
    letter-spacing:0.5px;
}

.stat-value{
    font-size:20px;
    font-weight:700;
    color:var(--cor-primaria);
}

/* Setting Groups */
.setting-group{
    margin-bottom:24px;
}

.setting-group h5{
    margin:0 0 12px 0;
    color:var(--cor-texto);
    font-size:14px;
    font-weight:600;
    text-transform:uppercase;
    letter-spacing:0.5px;
    border-bottom:1px solid #e2e8f0;
    padding-bottom:8px;
}

.setting-group .setting-item{
    padding:8px 0;
    border-bottom:1px solid #f8fafc;
}

.setting-group .setting-item:last-child{
    border-bottom:none;
}

/* Dark Mode Styles */
body.dark-mode{
    --cor-fundo: #0f172a !important;
    --cor-container: #1e293b !important;
    --cor-texto: #f8fafc !important;
    --cor-texto-claro: #94a3b8 !important;
    --cor-borda: #334155 !important;
    background: #0f172a !important;
    color: #f8fafc !important;
}

body.dark-mode *{
    color: inherit;
}

body.dark-mode .topbar{
    background:#1e293b !important;
    border-bottom:1px solid #334155 !important;
}

body.dark-mode .sidebar{
    background:#1e293b !important;
    border-right:1px solid #334155 !important;
}

body.dark-mode .sidebar-nav a{
    color:#94a3b8 !important;
}

body.dark-mode .sidebar-nav a:hover{
    color:#f8fafc !important;
    background:rgba(59,130,246,0.1) !important;
}

body.dark-mode .sidebar-nav a.active{
    background:var(--cor-primaria) !important;
    color:#ffffff !important;
}

body.dark-mode .panel{
    background:#1e293b !important;
    border:1px solid #334155 !important;
}

body.dark-mode .panel h2{
    color:#f8fafc !important;
}

body.dark-mode .main-content{
    background:#0f172a !important;
}

body.dark-mode .modal-dialog{
    background:#1e293b !important;
    border:1px solid #334155 !important;
}

body.dark-mode .modal-header{
    border-bottom:1px solid #334155 !important;
}

body.dark-mode .modal-header h3{
    color:#f8fafc !important;
}

body.dark-mode .modal-body{
    color:#f8fafc !important;
}

body.dark-mode .modal-footer{
    background:#0f172a !important;
    border-top:1px solid #334155 !important;
}

body.dark-mode .modern-input,
body.dark-mode input[type="text"],
body.dark-mode input[type="email"],
body.dark-mode input[type="number"],
body.dark-mode input[type="date"],
body.dark-mode input[type="tel"],
body.dark-mode select,
body.dark-mode textarea{
    background:#0f172a !important;
    border:2px solid #334155 !important;
    color:#f8fafc !important;
}

body.dark-mode .modern-input::placeholder,
body.dark-mode input::placeholder,
body.dark-mode textarea::placeholder{
    color:#64748b !important;
}

body.dark-mode .modern-input:focus,
body.dark-mode input:focus,
body.dark-mode select:focus,
body.dark-mode textarea:focus{
    border-color:var(--cor-primaria) !important;
    box-shadow:0 0 0 3px rgba(59,130,246,0.2) !important;
}

body.dark-mode .btn.secondary{
    background:#374151 !important;
    color:#f8fafc !important;
    border:1px solid #4b5563 !important;
}

body.dark-mode .btn.secondary:hover{
    background:#4b5563 !important;
}

body.dark-mode .notification-item,
body.dark-mode .message-item{
    background:#0f172a !important;
    color:#f8fafc !important;
}

body.dark-mode .notification-item:hover,
body.dark-mode .message-item:hover{
    background:#1e293b !important;
}

body.dark-mode .setting-item{
    border-bottom:1px solid #334155 !important;
    color:#f8fafc !important;
}

body.dark-mode .stat-item{
    background:#0f172a !important;
    border:1px solid #334155 !important;
    color:#f8fafc !important;
}

body.dark-mode .stat-value {
    color: #f8fafc !important;
}

body.dark-mode .stat-label {
    color: #cbd5e1 !important;
}

body.dark-mode .kpi-value {
    color: #3b82f6 !important;
}

body.dark-mode .kpi-label {
    color: #cbd5e1 !important;
}

body.dark-mode .topbar {
    background: #0f172a !important;
    border-bottom: 1px solid #334155 !important;
}

body.dark-mode .main-header {
    background: #0f172a !important;
    color: #f8fafc !important;
}

body.dark-mode .main-header h1 {
    color: #f8fafc !important;
}

body.dark-mode .search-input{
    background:#1e293b !important;
    border:1px solid #334155 !important;
    color:#f8fafc !important;
}

body.dark-mode .search-input::placeholder{
    color:#64748b !important;
}

body.dark-mode .user-menu-dropdown{
    background:#1e293b !important;
    border:1px solid #334155 !important;
}

body.dark-mode .user-menu-dropdown a{
    color:#f8fafc !important;
}

body.dark-mode .user-menu-dropdown a:hover{
    background:#334155 !important;
}

body.dark-mode .nav-icon-btn{
    color:#94a3b8 !important;
}

body.dark-mode .nav-icon-btn:hover{
    color:#f8fafc !important;
    background:rgba(59,130,246,0.1) !important;
}

body.dark-mode .notification-btn{
    color:#94a3b8 !important;
}

body.dark-mode .notification-btn:hover{
    color:#f8fafc !important;
}

body.dark-mode .user-text{
    color:#f8fafc !important;
}

body.dark-mode .muted{
    color:#64748b !important;
}

/* Dark mode transitions */
body{
    transition:background-color 0.3s ease, color 0.3s ease;
}

.topbar,
.sidebar,
.panel,
.modal-dialog,
.modern-input,
input,
select,
textarea,
.btn.secondary{
    transition:background-color 0.3s ease, border-color 0.3s ease, color 0.3s ease;
}

/* Dark Mode Toggle Button Animation */
#btn-dark-mode-toggle{
    position:relative;
    overflow:hidden;
}

#btn-dark-mode-toggle i{
    transition:all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
}

#btn-dark-mode-toggle:hover i{
    transform:rotate(180deg) scale(1.1);
}

body.dark-mode #btn-dark-mode-toggle{
    background:rgba(251, 191, 36, 0.1);
    color:#fbbf24;
}

body.dark-mode #btn-dark-mode-toggle:hover{
    background:rgba(251, 191, 36, 0.2);
    transform:translateY(-2px) scale(1.05);
    box-shadow:0 8px 25px rgba(251, 191, 36, 0.2);
}

/* Dark mode transition improvement */
* {
    transition:background-color 0.3s ease, 
               border-color 0.3s ease, 
               color 0.3s ease,
               box-shadow 0.3s ease;
}

/* Efeito especial para botão sair */
#btn-sair:hover{
    color:#ef4444;
    transform:translateY(-3px) scale(1.05);
    box-shadow:0 8px 25px rgba(239,68,68,0.2);
}

#btn-sair:hover::before{
    background:rgba(239,68,68,0.1);
}

#btn-sair:hover .nav-tooltip{
    background:linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
}

#btn-sair:hover .nav-tooltip::before{
    border-right-color:#ef4444;
}

#btn-sair:hover .nav-icon{
    transform:rotate(-10deg) scale(1.2);
}

/* Responsividade para tooltips */
@media (max-width: 768px) {
    .nav-tooltip{
        display:none; /* Hide tooltips on mobile to avoid overlap */
    }
    
    /* Show full sidebar on mobile with labels */
    .sidebar.open .nav-tooltip{
        position:static;
        opacity:1;
        transform:none;
        background:transparent;
        color:var(--cor-texto);
        padding:0;
        margin-left:12px;
        font-size:14px;
        display:block;
        white-space:normal;
        box-shadow:none;
    }
    
    .sidebar.open .nav-tooltip::before{
        display:none;
    }
    
    .sidebar.open .sidebar-nav a{
        justify-content:flex-start;
        padding:0 16px;
        width:auto;
        height:56px;
    }
}

/* Layout principal */
.container-principal{
    min-height:100vh;
    background:var(--cor-fundo);
}

.main-content{
    margin-left:var(--largura-sidebar);
    padding-top:calc(var(--header-height) + 24px);
    padding-left:24px;
    padding-right:24px;
    padding-bottom:24px;
    min-height:100vh;
}

.app-container{
    max-width:var(--max-content-width);
    margin:0 auto;
}

/* Dashboard cards */
.dashboard-grid{
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(320px,1fr));
    gap:24px;
    margin-top:0;
}

.panel{
    background:#ffffff;
    border-radius:var(--radius-lg);
    padding:24px;
    border:1px solid var(--cor-borda);
    box-shadow:var(--shadow-sm);
    transition:all var(--transition-normal);
}

.panel:hover{
    box-shadow:var(--shadow-lg);
    transform:translateY(-2px);
    border-color:var(--cor-borda-escura);
}

.panel h2{
    font-size:16px;
    font-weight:600;
    color:var(--cor-texto);
    margin:0 0 16px 0;
    letter-spacing:-0.025em;
}

.panel-body{
    display:flex;
    flex-direction:column;
    gap:16px;
}

.panel-body-compact{
    display:flex;
    flex-direction:column;
    gap:12px;
}

/* Quick Actions */
.pcp-quick-actions-group{
    display:flex;
    gap:12px;
    flex-wrap:wrap;
}

.btn{
    padding:10px 16px;
    border:none;
    border-radius:6px;
    font-size:13px;
    font-weight:500;
    cursor:pointer;
    transition:all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    text-decoration:none;
    display:inline-flex;
    align-items:center;
    justify-content:center;
    gap:8px;
    letter-spacing:0.025em;
    position:relative;
    overflow:hidden;
    transform:translateY(0);
}

.btn::before{
    content:'';
    position:absolute;
    top:50%;
    left:50%;
    width:0;
    height:0;
    background:rgba(255,255,255,0.2);
    border-radius:50%;
    transition:all 0.4s ease;
    transform:translate(-50%, -50%);
    z-index:0;
}

.btn:hover{
    transform:translateY(-3px) scale(1.02);
    box-shadow:0 8px 25px rgba(0,0,0,0.15);
}

.btn:hover::before{
    width:100px;
    height:100px;
}

.btn:active{
    transform:translateY(-1px) scale(0.98);
    transition:all 0.1s ease;
}

.btn > *{
    position:relative;
    z-index:1;
}

.btn:not(.secondary){
    background:var(--cor-primaria);
    color:#ffffff;
}

.btn.secondary{
    background:#ffffff;
    color:var(--cor-texto);
    border:1px solid var(--cor-borda);
}

.btn.secondary:hover{
    background:#f8fafc;
}

/* KPI Cards */
.panel-body-kpis{
    display:flex;
    justify-content:space-between;
    gap:16px;
}

.pcp-kpi-card{
    flex:1;
    text-align:center;
    padding:20px 16px;
    background:#f8fafc;
    border-radius:6px;
    border:1px solid #e2e8f0;
}

.kpi-label{
    font-size:11px;
    color:var(--cor-texto-claro);
    font-weight:500;
    text-transform:uppercase;
    letter-spacing:0.5px;
    margin-bottom:8px;
}

.kpi-value{
    font-size:32px;
    font-weight:700;
    color:var(--cor-primaria);
    line-height:1;
}

/* Panel content scrollable */
.panel-body-scroll{
    max-height:300px;
    overflow-y:auto;
    padding:0;
}

/* Estilos para evitar corte de elementos */
.modal-body-safe {
    padding: 20px !important;
    max-height: calc(90vh - 140px) !important;
    overflow-y: auto;
    overflow-x: hidden;
}

.table-responsive {
    width: 100%;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
}

.table-responsive table {
    min-width: 100%;
    white-space: nowrap;
}

/* Melhorias para tabelas em modais */
.modal-table-container {
    background: white;
    border-radius: 8px;
    overflow: hidden;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    margin: 16px 0;
}

.modal-table-scroll {
    max-height: 400px;
    overflow-y: auto;
    overflow-x: auto;
}

/* Fixar cabeçalho da tabela em modais */
.modal-table-scroll thead th {
    position: sticky;
    top: 0;
    z-index: 10;
    background: #f8fafc !important;
    border-bottom: 2px solid #e2e8f0;
}

/* Botões de ação sem corte */
.modal-actions {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    justify-content: flex-end;
    padding: 16px 0 0 0;
    border-top: 1px solid #e2e8f0;
    margin-top: 20px;
}

.modal-actions .btn {
    min-width: 120px;
    white-space: nowrap;
}

/* Garantir que os valores monetários sejam legíveis */
.currency-value {
    font-family: 'Inter', 'Segoe UI', monospace;
    font-weight: 600;
    white-space: nowrap;
}

.currency-positive {
    color: #059669;
}

.currency-neutral {
    color: #64748b;
}

/* Responsividade */
@media (max-width: 768px) {
    .menu-toggle-btn{
        display:flex;
    }
    
    .nav-icons{
        display:none;
    }
    
    .topbar-center{
        gap:16px;
    }
    
    .search-wrapper{
        max-width:250px;
    }
    
    .sidebar{
        transform:translateX(-100%);
        transition:transform 0.3s ease;
    }
    
    .sidebar.open{
        transform:translateX(0);
    }
    
    .main-content{
        margin-left:0;
    }
    
    .dashboard-grid{
        grid-template-columns:1fr;
        gap:16px;
    }
    
    .panel{
        padding:16px;
    }
    
    .pcp-quick-actions-group{
        flex-direction:column;
        gap:8px;
    }
    
    .btn{
        width:100%;
        justify-content:center;
    }
    
    .panel-body-kpis{
        flex-direction:column;
        gap:12px;
    }

    /* Modal mobile melhorado */
    .modal-actions {
        flex-direction: column;
    }
    
    .modal-actions .btn {
        width: 100%;
        min-width: auto;
    }
    
    /* Tabela responsiva em mobile */
    .modal-table-scroll {
        font-size: 12px;
    }
    
    .detalhes-tabela th,
    .detalhes-tabela td {
        padding: 8px 4px;
        font-size: 11px;
    }
    
    .codigo-produto {
        font-size: 10px;
        padding: 2px 4px;
    }
    
    .quantidade-item {
        padding: 4px 6px;
        font-size: 12px;
        min-width: 40px;
    }
}

/* === MODAL DE DETALHES DA ORDEM - DESIGN MODERNO === */

/* Overlay do modal */
.modal-overlay.pedido-details-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(15, 23, 42, 0.8);
    backdrop-filter: blur(16px);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1050;
    padding: 20px;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.modal-overlay.pedido-details-overlay.show {
    opacity: 1;
}

/* Container principal do modal */
.modal-content.pedido-details-modal {
    background: var(--cor-container);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-xl);
    width: 100%;
    max-width: 1000px;
    max-height: 85vh;
    overflow: hidden;
    transform: scale(0.95) translateY(30px);
    transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.modal-overlay.show .modal-content.pedido-details-modal {
    transform: scale(1) translateY(0);
}

/* Header do modal */
.pedido-details-modal .modal-header {
    background: linear-gradient(135deg, #f8fafc 0%, #ffffff 100%);
    padding: 20px 28px;
    border-bottom: 2px solid var(--cor-borda);
    display: flex;
    align-items: center;
    justify-content: space-between;
}

.modal-header .header-info {
    display: flex;
    align-items: center;
    gap: 16px;
}

.modal-header h2 {
    color: var(--cor-texto-secundario);
    font-size: 18px;
    font-weight: 700;
    margin: 0;
    display: flex;
    align-items: center;
    gap: 10px;
}

.modal-header h2 i {
    color: var(--cor-primaria);
    font-size: 16px;
}

.pedido-id {
    background: linear-gradient(135deg, var(--cor-primaria) 0%, var(--cor-secundaria) 100%);
    color: white;
    padding: 8px 18px;
    border-radius: 25px;
    font-size: 13px;
    font-weight: 700;
    letter-spacing: 1px;
    box-shadow: var(--shadow-md);
    text-transform: uppercase;
}

.modal-close {
    width: 40px;
    height: 40px;
    border: none;
    background: transparent;
    color: var(--cor-texto-claro);
    font-size: 22px;
    cursor: pointer;
    border-radius: var(--radius-md);
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all var(--transition-normal);
}

.modal-close:hover {
    background: rgba(239, 68, 68, 0.1);
    color: var(--cor-erro);
    transform: scale(1.15) rotate(90deg);
}

/* Corpo do modal */
.pedido-details-modal .modal-body {
    padding: 0;
    max-height: calc(85vh - 140px);
    overflow-y: auto;
    background: #fafbfc;
}

.pedido-details-container {
    padding: 28px;
    display: flex;
    flex-direction: column;
    gap: 24px;
}

/* Seções de detalhes */
.details-section {
    background: white;
    border-radius: var(--radius-md);
    padding: 24px;
    border: 1px solid var(--cor-borda);
    box-shadow: var(--shadow-sm);
    transition: all var(--transition-normal);
}

.details-section:hover {
    box-shadow: var(--shadow-md);
    transform: translateY(-1px);
}

.details-section h3 {
    color: var(--cor-texto-secundario);
    font-size: 16px;
    font-weight: 700;
    margin: 0 0 20px 0;
    display: flex;
    align-items: center;
    gap: 10px;
    border-bottom: 2px solid var(--cor-borda-clara);
    padding-bottom: 12px;
}

.details-section h3 i {
    color: var(--cor-primaria);
    font-size: 16px;
    width: 20px;
    text-align: center;
}

/* Seção de cabeçalho da ordem */
.ordem-header-section {
    background: linear-gradient(135deg, #f8fafc 0%, #ffffff 100%);
    border: 2px solid var(--cor-borda);
}

.ordem-header-grid {
    display: grid;
    grid-template-columns: 1fr auto;
    gap: 24px;
    align-items: center;
}

.empresa-info {
    display: flex;
    align-items: center;
    gap: 16px;
}

.empresa-icon {
    width: 60px;
    height: 60px;
    background: linear-gradient(135deg, var(--cor-primaria) 0%, var(--cor-secundaria) 100%);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 24px;
    box-shadow: var(--shadow-md);
}

.empresa-details h4 {
    color: var(--cor-texto);
    font-size: 20px;
    font-weight: 700;
    margin: 0 0 8px 0;
    line-height: 1.2;
}

.empresa-meta {
    display: flex;
    align-items: center;
    gap: 12px;
}

.ordem-meta-info {
    display: flex;
    flex-direction: column;
    gap: 12px;
    text-align: right;
}

.meta-item {
    display: flex;
    flex-direction: column;
    gap: 4px;
    align-items: flex-end;
}

.meta-item label {
    font-size: 12px;
    font-weight: 600;
    color: var(--cor-texto-muted);
    display: flex;
    align-items: center;
    gap: 6px;
}

.meta-item label i {
    color: var(--cor-primaria);
    width: 14px;
}

.meta-item span {
    font-size: 14px;
    font-weight: 600;
    color: var(--cor-texto);
}

/* Tabela de produtos moderna */
.produtos-container {
    background: var(--cor-surface);
    border-radius: var(--radius-md);
    overflow: hidden;
    border: 1px solid var(--cor-borda);
}

.produtos-table-modern {
    width: 100%;
}

.produtos-header {
    display: grid;
    grid-template-columns: 120px 1fr 80px 120px 120px;
    background: linear-gradient(135deg, var(--cor-primaria) 0%, var(--cor-secundaria) 100%);
    color: white;
}

.header-cell {
    padding: 16px 12px;
    font-size: 12px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    text-align: center;
}

.header-cell.descricao {
    text-align: left;
}

.produtos-body {
    background: white;
}

.produto-row {
    display: grid;
    grid-template-columns: 120px 1fr 80px 120px 120px;
    border-bottom: 1px solid var(--cor-borda-clara);
    transition: background-color var(--transition-fast);
}

.produto-row:hover {
    background: var(--cor-surface-hover);
}

.produto-row:last-child {
    border-bottom: none;
}

.produto-cell {
    padding: 16px 12px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.produto-cell.descricao {
    justify-content: flex-start;
}

.codigo-badge {
    background: var(--cor-primaria);
    color: white;
    padding: 4px 8px;
    border-radius: var(--radius-sm);
    font-size: 11px;
    font-weight: 700;
    font-family: monospace;
    letter-spacing: 0.5px;
}

.descricao-text {
    color: var(--cor-texto);
    font-weight: 500;
    line-height: 1.3;
}

.quantidade-badge {
    background: rgba(5, 150, 105, 0.1);
    color: var(--cor-sucesso);
    padding: 6px 12px;
    border-radius: var(--radius-sm);
    font-weight: 700;
    min-width: 50px;
    text-align: center;
}

.valor-text {
    color: var(--cor-texto);
    font-weight: 600;
    font-family: monospace;
}

.total-badge {
    background: rgba(5, 150, 105, 0.1);
    color: var(--cor-sucesso);
    padding: 8px 12px;
    border-radius: var(--radius-sm);
    font-weight: 700;
    font-family: monospace;
    font-size: 14px;
}

.no-produtos {
    padding: 40px 20px;
    text-align: center;
    color: var(--cor-texto-muted);
    background: var(--cor-surface);
    border-radius: var(--radius-md);
}

.no-produtos i {
    font-size: 48px;
    color: var(--cor-texto-claro);
    margin-bottom: 12px;
    display: block;
}

/* Informações comerciais */
.info-comerciais {
    background: linear-gradient(135deg, #f0f9ff 0%, #ffffff 100%);
    border: 2px solid #e0f2fe;
}

.comerciais-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 20px;
}

.comercial-card {
    background: white;
    border: 1px solid var(--cor-borda);
    border-radius: var(--radius-md);
    padding: 20px;
    display: flex;
    align-items: center;
    gap: 16px;
    transition: all var(--transition-normal);
}

.comercial-card:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
}

.comercial-card.valor-total {
    border: 2px solid var(--cor-sucesso);
    background: linear-gradient(135deg, #f0fdf4 0%, #ffffff 100%);
}

.card-icon {
    width: 48px;
    height: 48px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 20px;
    color: white;
}

.comercial-card.frete .card-icon {
    background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
}

.comercial-card.valor-total .card-icon {
    background: linear-gradient(135deg, var(--cor-sucesso) 0%, #047857 100%);
}

.card-content {
    flex: 1;
}

.card-content label {
    font-size: 12px;
    font-weight: 600;
    color: var(--cor-texto-muted);
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin-bottom: 4px;
    display: block;
}

.card-value {
    font-size: 16px;
    font-weight: 700;
    color: var(--cor-texto);
}

.card-value.money {
    font-size: 20px;
    color: var(--cor-sucesso);
    font-family: monospace;
}

/* Informações de contato */
.contato-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 16px;
}

.contato-item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 16px;
    background: var(--cor-surface);
    border-radius: var(--radius-md);
    border: 1px solid var(--cor-borda);
    transition: all var(--transition-normal);
}

.contato-item:hover {
    background: var(--cor-surface-hover);
    transform: translateY(-1px);
    box-shadow: var(--shadow-sm);
}

.contato-item.full-width {
    grid-column: 1 / -1;
}

.contato-item i {
    color: var(--cor-primaria);
    font-size: 16px;
    width: 20px;
    text-align: center;
}

.contato-item div {
    flex: 1;
}

.contato-item label {
    font-size: 11px;
    font-weight: 600;
    color: var(--cor-texto-muted);
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin-bottom: 2px;
    display: block;
}

.contato-item span {
    color: var(--cor-texto);
    font-weight: 500;
}

.contato-item a {
    color: var(--cor-primaria);
    text-decoration: none;
}

.contato-item a:hover {
    text-decoration: underline;
}

/* Observações */
.observacoes-box {
    background: var(--cor-surface);
    border: 1px solid var(--cor-borda);
    border-radius: var(--radius-md);
    padding: 20px;
    color: var(--cor-texto);
    line-height: 1.6;
    font-style: italic;
    border-left: 4px solid var(--cor-primaria);
}

/* Status badges */
.status-badge {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 6px 14px;
    border-radius: 25px;
    font-size: 12px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.status-badge.status-pendente,
.status-badge.status-warning {
    background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
    color: #92400e;
    border: 1px solid #f59e0b;
}

.status-badge.status-success,
.status-badge.status-aprovado {
    background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);
    color: #065f46;
    border: 1px solid #10b981;
}

.status-badge.status-danger,
.status-badge.status-cancelado {
    background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%);
    color: #991b1b;
    border: 1px solid #ef4444;
}

.status-badge.status-progress,
.status-badge.status-processando {
    background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
    color: #1d4ed8;
    border: 1px solid #3b82f6;
}

.status-badge.status-default {
    background: linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%);
    color: #475569;
    border: 1px solid #94a3b8;
}

/* Valor monetário destacado */
.value-money {
    color: var(--cor-sucesso) !important;
    font-weight: 700 !important;
    font-family: 'SF Mono', 'Monaco', monospace !important;
    font-size: 16px;
}

/* Lista de produtos */
.produtos-details {
    background: var(--cor-surface);
    border-radius: var(--radius-md);
    padding: 20px;
    border: 1px solid var(--cor-borda);
}

.produto-item {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 16px 0;
    border-bottom: 1px solid var(--cor-borda-clara);
}

.produto-item:last-child {
    border-bottom: none;
}

.produto-info {
    flex: 1;
}

.produto-codigo {
    font-family: 'SF Mono', 'Monaco', monospace;
    font-size: 12px;
    font-weight: 600;
    background: var(--cor-primaria);
    color: white;
    padding: 4px 8px;
    border-radius: var(--radius-sm);
    display: inline-block;
    margin-bottom: 4px;
}

.produto-descricao {
    font-weight: 500;
    color: var(--cor-texto);
    margin: 4px 0;
}

.produto-quantidade {
    font-weight: 600;
    color: var(--cor-sucesso);
    font-size: 14px;
}

.produto-valor {
    text-align: right;
    font-family: 'SF Mono', 'Monaco', monospace;
    font-weight: 600;
    color: var(--cor-texto);
}

/* Seção de observações */
.observacoes-content {
    background: var(--cor-surface);
    padding: 16px;
    border-radius: var(--radius-md);
    border: 1px solid var(--cor-borda);
    color: var(--cor-texto);
    line-height: 1.6;
    font-style: italic;
}

/* Footer do modal */
.pedido-details-modal .modal-footer {
    background: white;
    padding: 20px 32px;
    border-top: 1px solid var(--cor-borda);
}

.footer-actions {
    display: flex;
    justify-content: flex-end;
    gap: 12px;
    align-items: center;
}

.footer-actions .btn {
    padding: 12px 20px;
    border-radius: var(--radius-md);
    font-size: 14px;
    font-weight: 600;
    cursor: pointer;
    transition: all var(--transition-normal);
    border: none;
    display: flex;
    align-items: center;
    gap: 8px;
    text-decoration: none;
    min-width: 120px;
    justify-content: center;
}

.footer-actions .btn.btn-secondary {
    background: var(--cor-surface);
    color: var(--cor-texto-claro);
    border: 1px solid var(--cor-borda);
}

.footer-actions .btn.btn-secondary:hover {
    background: var(--cor-surface-hover);
    color: var(--cor-texto);
    border-color: var(--cor-borda-escura);
}

.footer-actions .btn.btn-primary {
    background: var(--cor-primaria);
    color: white;
    box-shadow: var(--shadow-sm);
}

.footer-actions .btn.btn-primary:hover {
    background: var(--cor-secundaria);
    transform: translateY(-1px);
    box-shadow: var(--shadow-md);
}

.footer-actions .btn.btn-success {
    background: var(--cor-sucesso);
    color: white;
    box-shadow: var(--shadow-sm);
}

.footer-actions .btn.btn-success:hover {
    background: #047857;
    transform: translateY(-1px);
    box-shadow: var(--shadow-md);
}

/* Scrollbar customizada */
.modal-body-safe::-webkit-scrollbar {
    width: 8px;
}

.modal-body-safe::-webkit-scrollbar-track {
    background: var(--cor-surface);
    border-radius: 4px;
}

.modal-body-safe::-webkit-scrollbar-thumb {
    background: var(--cor-borda-escura);
    border-radius: 4px;
}

.modal-body-safe::-webkit-scrollbar-thumb:hover {
    background: var(--cor-texto-muted);
}

/* === RESPONSIVIDADE DO MODAL === */

@media (max-width: 1024px) {
    .modal-content.pedido-details-modal {
        max-width: 95vw;
    }
    
    .produtos-header,
    .produto-row {
        grid-template-columns: 100px 1fr 60px 100px 100px;
        font-size: 13px;
    }
    
    .ordem-header-grid {
        grid-template-columns: 1fr;
        gap: 16px;
    }
    
    .ordem-meta-info {
        flex-direction: row;
        justify-content: space-between;
        align-items: center;
        text-align: left;
    }
}

@media (max-width: 768px) {
    .modal-overlay.pedido-details-overlay {
        padding: 0;
        align-items: flex-start;
    }
    
    .modal-content.pedido-details-modal {
        max-height: 100vh;
        min-height: 100vh;
        max-width: 100vw;
        border-radius: 0;
    }
    
    .pedido-details-modal .modal-header {
        padding: 16px 20px;
        position: sticky;
        top: 0;
        z-index: 10;
        flex-direction: column;
        align-items: flex-start;
        gap: 12px;
    }
    
    .modal-header .header-info {
        width: 100%;
        justify-content: space-between;
        align-items: center;
    }
    
    .pedido-details-container {
        padding: 20px 16px;
        gap: 20px;
    }
    
    .details-section {
        padding: 20px 16px;
    }
    
    .ordem-header-grid {
        gap: 16px;
    }
    
    .empresa-info {
        gap: 12px;
    }
    
    .empresa-icon {
        width: 50px;
        height: 50px;
        font-size: 20px;
    }
    
    .empresa-details h4 {
        font-size: 18px;
    }
    
    .ordem-meta-info {
        flex-direction: column;
        gap: 8px;
        align-items: flex-start;
        text-align: left;
    }
    
    .meta-item {
        align-items: flex-start;
    }
    
    /* Tabela de produtos em mobile */
    .produtos-header {
        display: none;
    }
    
    .produto-row {
        display: block;
        padding: 16px;
        border: 1px solid var(--cor-borda);
        border-radius: var(--radius-md);
        margin-bottom: 12px;
        background: white;
    }
    
    .produto-cell {
        display: block;
        padding: 0;
        margin-bottom: 8px;
    }
    
    .produto-cell:last-child {
        margin-bottom: 0;
    }
    
    .codigo-badge {
        display: inline-block;
        margin-bottom: 8px;
    }
    
    .descricao-text {
        display: block;
        margin-bottom: 8px;
    }
    
    .quantidade-badge,
    .total-badge {
        float: right;
        margin-left: 8px;
    }
    
    /* Informações comerciais em mobile */
    .comerciais-grid {
        grid-template-columns: 1fr;
        gap: 12px;
    }
    
    .comercial-card {
        padding: 16px;
    }
    
    .card-icon {
        width: 40px;
        height: 40px;
        font-size: 16px;
    }
    
    /* Informações de contato em mobile */
    .contato-grid {
        grid-template-columns: 1fr;
        gap: 12px;
    }
    
    .contato-item {
        padding: 12px;
    }
    
    /* Footer em mobile */
    .pedido-details-modal .modal-footer {
        padding: 16px;
        position: sticky;
        bottom: 0;
        z-index: 10;
    }
    
    .footer-actions {
        flex-direction: column;
        gap: 8px;
    }
    
    .footer-actions .btn {
        width: 100%;
        min-width: auto;
    }
}

@media (max-width: 480px) {
    .pedido-details-container {
        padding: 16px 12px;
    }
    
    .details-section {
        padding: 16px 12px;
    }
    
    .details-section h3 {
        font-size: 14px;
    }
    
    .empresa-details h4 {
        font-size: 16px;
    }
    
    .meta-item label,
    .card-content label,
    .contato-item label {
        font-size: 10px;
    }
    
    .codigo-badge {
        font-size: 10px;
        padding: 3px 6px;
    }
    
    .descricao-text {
        font-size: 13px;
    }
    
    .card-value {
        font-size: 14px;
    }
    
    .card-value.money {
        font-size: 16px;
    }
}

/* User menu dropdown */
.user-menu-dropdown{
    position:absolute;
    top:100%;
    right:0;
    background:#ffffff;
    border:1px solid var(--cor-borda);
    border-radius:6px;
    box-shadow:var(--shadow-2);
    min-width:200px;
    z-index:1001;
    display:none;
}

.user-menu-dropdown.show{
    display:block;
}

/* Search results */
.search-inline-dropdown{
    position:absolute;
    top:100%;
    left:0;
    right:0;
    background:#ffffff;
    border:1px solid var(--cor-borda);
    border-radius:6px;
    box-shadow:var(--shadow-2);
    max-height:300px;
    overflow-y:auto;
    z-index:1002;
    margin-top:4px;
}

#search-inline-results{
    position:absolute;
    top:100%;
    left:0;
    right:0;
    background:#ffffff;
    border:1px solid var(--cor-borda);
    border-radius:6px;
    box-shadow:var(--shadow-2);
    max-height:300px;
    overflow-y:auto;
    z-index:1002;
    margin-top:4px;
    opacity:0;
    pointer-events:none;
    transition:opacity 0.2s ease;
}

#search-inline-results.visible{
    opacity:1;
    pointer-events:auto;
}

.search-item{
    padding:12px 16px;
    border-bottom:1px solid #f1f5f9;
    cursor:pointer;
    transition:background 0.2s;
    display:flex;
    justify-content:space-between;
    align-items:center;
}

.search-item:hover{
    background:#f8fafc;
}

.search-item:last-child{
    border-bottom:none;
}

.search-item strong{
    font-size:13px;
    font-weight:600;
    color:var(--cor-texto);
    display:block;
    margin-bottom:2px;
}

.search-item .meta{
    font-size:11px;
    color:var(--cor-texto-claro);
    line-height:1.4;
}

/* Modal base styles - Melhorado para evitar corte */
.modal{
    position:fixed;
    top:0;
    left:0;
    right:0;
    bottom:0;
    background:rgba(15,23,42,0.6);
    backdrop-filter:blur(8px);
    display:flex;
    align-items:center;
    justify-content:center;
    z-index:1050;
    opacity:0;
    pointer-events:none;
    transition:all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
    padding:20px; /* Adiciona padding para evitar corte */
}

.modal:not(.hidden){
    opacity:1;
    pointer-events:auto;
}

.modal-dialog{
    background:#ffffff;
    border-radius:12px;
    max-width:600px;
    width:95%;
    max-height:90vh; /* Aumenta altura máxima */
    overflow:hidden;
    box-shadow:0 25px 50px -12px rgba(0,0,0,0.25), 0 0 0 1px rgba(255,255,255,0.1);
    transform:scale(0.9) translateY(20px);
    transition:all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
    margin:auto; /* Centraliza automaticamente */
}

.modal:not(.hidden) .modal-dialog{
    transform:scale(1) translateY(0);
}

.modal-wide .modal-dialog{
    max-width:950px;
}

.modal-sm .modal-dialog{
    max-width:450px;
}

.modal-header{
    padding:24px 28px;
    border-bottom:1px solid #f1f5f9;
    display:flex;
    justify-content:space-between;
    align-items:center;
    background:linear-gradient(135deg, #f8fafc 0%, #ffffff 100%);
}

.modal-header h3{
    font-size:18px;
    font-weight:600;
    color:var(--cor-texto);
    margin:0;
    letter-spacing:-0.025em;
    display:flex;
    align-items:center;
    gap:8px;
}

.modal-close{
    width:36px;
    height:36px;
    border:none;
    background:transparent;
    color:var(--cor-texto-claro);
    font-size:20px;
    cursor:pointer;
    border-radius:8px;
    display:flex;
    align-items:center;
    justify-content:center;
    transition:all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
    position:relative;
    overflow:hidden;
}

.modal-close::before{
    content:'';
    position:absolute;
    top:50%;
    left:50%;
    width:0;
    height:0;
    background:radial-gradient(circle, rgba(239,68,68,0.2) 0%, transparent 70%);
    border-radius:50%;
    transform:translate(-50%, -50%);
    transition:all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
    z-index:-1;
}

.modal-close:hover{
    background:rgba(239,68,68,0.1);
    color:#dc2626;
    transform:scale(1.1) rotate(90deg);
}

.modal-close:hover::before{
    width:40px;
    height:40px;
}

.modal-body{
    padding:28px;
    max-height:65vh;
    overflow-y:auto;
}

.modal-body-scroll{
    max-height:65vh;
    overflow-y:auto;
    padding:28px;
}

.modal-footer{
    padding:20px 28px;
    border-top:1px solid #f1f5f9;
    display:flex;
    justify-content:flex-end;
    gap:12px;
    background:#f8fafc;
}

/* Modais Especializados */
#product-modal .product-modal-inner{
    border-radius:12px;
    box-shadow:0 25px 50px -12px rgba(0,0,0,0.25);
    background:#ffffff;
    overflow:hidden;
}

#product-modal .product-modal-inner h3{
    background:linear-gradient(135deg, var(--cor-primaria) 0%, var(--cor-secundaria) 100%);
    color:#ffffff;
    padding:24px 28px;
    margin:-24px -24px 24px -24px;
    font-size:18px;
    font-weight:600;
    display:flex;
    align-items:center;
    gap:10px;
}

#product-modal .product-modal-inner h3::before{
    content:'';
    font-family:'Font Awesome 5 Free';
    font-weight:900;
    content:'\f466';
    font-size:20px;
}

#order-modal .modal-dialog{
    max-width:1200px;
    max-height:90vh;
}

#order-modal .modal-header{
    background:linear-gradient(135deg, #059669 0%, #10b981 100%);
    color:#ffffff;
    border-bottom:none;
}

#order-modal .modal-header h3{
    color:#ffffff;
    display:flex;
    align-items:center;
    gap:10px;
}

#order-modal .modal-header h3::before{
    content:'';
    font-family:'Font Awesome 5 Free';
    font-weight:900;
    content:'\f0ea';
    font-size:20px;
}

#order-modal .modal-close{
    color:rgba(255,255,255,0.8);
}

#order-modal .modal-close:hover{
    background:rgba(255,255,255,0.1);
    color:#ffffff;

/* Estilos para Modal de Detalhes da Ordem - Interface Limpa */
.modal-detalhes-ordem {
    max-width: 95vw !important;
    max-height: 95vh !important;
    width: 100% !important;
}

.modal-detalhes-ordem .modal-body {
    padding: 0 !important;
    max-height: calc(95vh - 120px) !important;
    overflow-y: auto;
}

/* Header do Modal - Design Minimalista */
.detalhes-header {
    background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
    padding: 24px;
    border-bottom: 2px solid #e2e8f0;
    margin: -28px -28px 0 -28px;
}

.detalhes-header h3 {
    color: #334155;
    font-size: 20px;
    font-weight: 700;
    margin: 0;
    display: flex;
    align-items: center;
    gap: 12px;
}

.ordem-numero {
    background: #1e40af;
    color: white;
    padding: 6px 16px;
    border-radius: 20px;
    font-size: 14px;
    font-weight: 600;
    letter-spacing: 0.5px;
}

/* Tabela de Itens - Design Clean */
.detalhes-tabela {
    width: 100%;
    border-collapse: collapse;
    margin: 24px 0;
    background: white;
    border-radius: 8px;
    overflow: hidden;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

.detalhes-tabela th {
    background: #f8fafc;
    color: #475569;
    font-weight: 600;
    font-size: 12px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    padding: 16px 12px;
    text-align: left;
    border-bottom: 1px solid #e2e8f0;
}

.detalhes-tabela td {
    padding: 16px 12px;
    border-bottom: 1px solid #f1f5f9;
    color: #334155;
    font-size: 14px;
    vertical-align: middle;
}

.detalhes-tabela tr:hover {
    background: #f8fafc;
}

.detalhes-tabela tr:last-child td {
    border-bottom: none;
}

/* Códigos de Produto */
.codigo-produto {
    background: #e0f2fe;
    color: #0369a1;
    padding: 4px 8px;
    border-radius: 4px;
    font-family: 'Courier New', monospace;
    font-size: 11px;
    font-weight: 600;
    display: inline-block;
}

/* Descrições */
.descricao-produto {
    font-weight: 500;
    color: #1e293b;
    line-height: 1.4;
}

/* Quantidades */
.quantidade-item {
    text-align: center;
    font-weight: 600;
    color: #059669;
    background: #ecfdf5;
    padding: 8px 12px;
    border-radius: 6px;
    display: inline-block;
    min-width: 60px;
}

/* Valores Monetários - Formatação Limpa */
.valor-unitario,
.valor-total {
    text-align: right;
    font-weight: 600;
    font-family: 'Inter', sans-serif;
    color: #1e293b;
}

.valor-total {
    background: #f0fdf4;
    color: #059669;
    padding: 8px 12px;
    border-radius: 6px;
    font-size: 15px;
}

/* Seção de Informações Comerciais - Redesign */
.informacoes-comerciais {
    background: linear-gradient(135deg, #f8fafc 0%, #ffffff 100%);
    border-radius: 12px;
    padding: 24px;
    margin: 24px 0;
    border: 1px solid #e2e8f0;
}

.informacoes-comerciais h4 {
    color: #334155;
    font-size: 16px;
    font-weight: 600;
    margin: 0 0 20px 0;
    display: flex;
    align-items: center;
    gap: 8px;
}

.informacoes-comerciais h4::before {
    content: "💼";
    font-size: 18px;
}

.info-comercial-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 20px;
}

.info-item {
    background: white;
    padding: 16px;
    border-radius: 8px;
    border: 1px solid #e2e8f0;
    text-align: center;
}

.info-label {
    font-size: 11px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    color: #64748b;
    font-weight: 600;
    margin-bottom: 8px;
}

.info-valor {
    font-size: 18px;
    font-weight: 700;
    color: #1e293b;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 4px;
}

.info-valor.dinheiro {
    color: #059669;
}

.info-valor.frete {
    color: #0369a1;
}

/* Botões do Modal - Design Consistente */
.modal-footer {
    background: #f8fafc;
    border-top: 1px solid #e2e8f0;
    padding: 20px 28px;
    display: flex;
    justify-content: flex-end;
    gap: 12px;
}

.btn-modal {
    padding: 12px 20px;
    border-radius: 8px;
    font-size: 14px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    border: none;
    display: flex;
    align-items: center;
    gap: 8px;
}

.btn-editar {
    background: #1e40af;
    color: white;
}

.btn-editar:hover {
    background: #1d4ed8;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(30, 64, 175, 0.3);
}

.btn-excel {
    background: #059669;
    color: white;
}

.btn-excel:hover {
    background: #047857;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(5, 150, 105, 0.3);
}

.btn-fechar {
    background: #e2e8f0;
    color: #475569;
}

.btn-fechar:hover {
    background: #cbd5e1;
}

/* Responsividade para Modal */
@media (max-width: 768px) {
    .modal-detalhes-ordem {
        max-width: 100vw !important;
        max-height: 100vh !important;
        border-radius: 0 !important;
    }
    
    .detalhes-tabela {
        font-size: 12px;
    }
    
    .detalhes-tabela th,
    .detalhes-tabela td {
        padding: 8px 6px;
    }
    
    .info-comercial-grid {
        grid-template-columns: 1fr;
    }
    
    .modal-footer {
        flex-direction: column;
        gap: 8px;
    }
    
    .btn-modal {
        width: 100%;
        justify-content: center;
    }
}
}

#materiais-modal .modal-header{
    background:linear-gradient(135deg, #7c3aed 0%, #8b5cf6 100%);
    color:#ffffff;
    border-bottom:none;
}

#materiais-modal .modal-header h3{
    color:#ffffff;
    display:flex;
    align-items:center;
    gap:10px;
}

#materiais-modal .modal-header h3::before{
    content:'';
    font-family:'Font Awesome 5 Free';
    font-weight:900;
    content:'\f1b2';
    font-size:20px;
}

#materiais-modal .modal-close{
    color:rgba(255,255,255,0.8);
}

#materiais-modal .modal-close:hover{
    background:rgba(255,255,255,0.1);
    color:#ffffff;
}

/* Search Results Modal */
#search-results-modal .modal-header{
    background:linear-gradient(135deg, var(--cor-accent) 0%, #0891b2 100%);
    color:#ffffff;
    border-bottom:none;
}

#search-results-modal .modal-header h3{
    color:#ffffff;
    display:flex;
    align-items:center;
    gap:10px;
}

#search-results-modal .modal-header h3::before{
    content:'';
    font-family:'Font Awesome 5 Free';
    font-weight:900;
    content:'\f002';
    font-size:18px;
}

#search-results-modal .modal-close{
    color:rgba(255,255,255,0.8);
}

#search-results-modal .modal-close:hover{
    background:rgba(255,255,255,0.1);
    color:#ffffff;
}

/* Consistent icon styling for all modal headers */
.modal-header h3::before{
    width:20px;
    text-align:center;
    opacity:0.9;
}

#product-modal .product-modal-inner h3::before,
#order-modal .modal-header h3::before,
#materiais-modal .modal-header h3::before,
#search-results-modal .modal-header h3::before{
    opacity:1;
    filter:drop-shadow(0 1px 2px rgba(0,0,0,0.1));
}

/* Modal Animation Improvements */
@keyframes modalSlideIn{
    from{
        opacity:0;
        transform:scale(0.95) translateY(30px);
    }
    to{
        opacity:1;
        transform:scale(1) translateY(0);
    }
}

.modal:not(.hidden) .modal-dialog{
    animation:modalSlideIn 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* Enhanced Modal Content */
.modal-body::-webkit-scrollbar{
    width:6px;
}

.modal-body::-webkit-scrollbar-track{
    background:transparent;
}

.modal-body::-webkit-scrollbar-thumb{
    background:rgba(148,163,184,0.3);
    border-radius:3px;
}

.modal-body::-webkit-scrollbar-thumb:hover{
    background:rgba(148,163,184,0.5);
}

/* Enhanced Toast Notifications */
.pcp-toast-container{
    position:fixed;
    top:80px;
    right:20px;
    z-index:1100;
    display:flex;
    flex-direction:column;
    gap:12px;
    max-width:400px;
    pointer-events:none;
}

.toast{
    background:#ffffff;
    border-radius:10px;
    padding:16px 20px;
    box-shadow:0 10px 25px rgba(0,0,0,0.1), 0 0 0 1px rgba(0,0,0,0.05);
    display:flex;
    align-items:center;
    gap:12px;
    opacity:0;
    transform:translateX(100%);
    transition:all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
    pointer-events:auto;
    border-left:4px solid transparent;
}

.toast:not(.hidden){
    opacity:1;
    transform:translateX(0);
}

.toast-success{
    border-left-color:#10b981;
    background:linear-gradient(135deg, #ffffff 0%, #f0fdfa 100%);
}

.toast-error{
    border-left-color:#ef4444;
    background:linear-gradient(135deg, #ffffff 0%, #fef2f2 100%);
}

.toast-warning{
    border-left-color:#f59e0b;
    background:linear-gradient(135deg, #ffffff 0%, #fefbf0 100%);
}

.toast-info{
    border-left-color:#3b82f6;
    background:linear-gradient(135deg, #ffffff 0%, #f0f7ff 100%);
}

.toast-content{
    display:flex;
    align-items:center;
    gap:12px;
    flex:1;
}

.toast-icon{
    font-size:18px;
}

.toast-message{
    color:var(--cor-texto);
    font-weight:500;
    font-size:14px;
}

.toast-close{
    background:none;
    border:none;
    color:var(--cor-texto-claro);
    cursor:pointer;
    font-size:18px;
    padding:4px;
    border-radius:4px;
    transition:all 0.2s;
    width:24px;
    height:24px;
    display:flex;
    align-items:center;
    justify-content:center;
}

.toast-close:hover{
    background:rgba(0,0,0,0.1);
    color:var(--cor-texto);
}

/* Enhanced Modal Forms */
.modal .form-group{
    margin-bottom:20px;
}

.modal .form-group label{
    display:block;
    margin-bottom:8px;
    font-weight:500;
    color:var(--cor-texto);
    font-size:14px;
}

.modal .modern-input,
.modal input[type="text"],
.modal input[type="email"],
.modal input[type="number"],
.modal input[type="date"],
.modal input[type="tel"],
.modal select,
.modal textarea{
    width:100%;
    padding:12px 16px;
    border:2px solid #e2e8f0;
    border-radius:8px;
    font-size:14px;
    font-family:inherit;
    transition:all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
    background:#ffffff;
}

.modal .modern-input:focus,
.modal input:focus,
.modal select:focus,
.modal textarea:focus{
    outline:none;
    border-color:var(--cor-primaria);
    box-shadow:0 0 0 3px rgba(30, 64, 175, 0.1);
    transform:translateY(-1px);
}

.modal .form-row{
    display:flex;
    gap:16px;
    align-items:end;
}

.modal .form-row .form-group{
    flex:1;
}

/* Modal Tables */
.modal table{
    width:100%;
    border-collapse:collapse;
    margin:16px 0;
    background:#ffffff;
    border-radius:8px;
    overflow:hidden;
    box-shadow:0 1px 3px rgba(0,0,0,0.1);
}

.modal table th{
    background:linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
    padding:12px 16px;
    text-align:left;
    font-weight:600;
    color:var(--cor-texto);
    font-size:13px;
    text-transform:uppercase;
    letter-spacing:0.5px;
}

.modal table td{
    padding:12px 16px;
    border-top:1px solid #f1f5f9;
    color:var(--cor-texto);
    font-size:14px;
}

.modal table tr:hover{
    background:rgba(59, 130, 246, 0.02);
}

/* Order Modal Specific Enhancements */
.order-form-grid{
    display:grid;
    grid-template-columns:2fr 1fr;
    gap:24px;
    max-height:70vh;
    overflow-y:auto;
}

.order-main{
    display:flex;
    flex-direction:column;
    gap:24px;
}

.order-side{
    position:sticky;
    top:0;
    height:fit-content;
}

.order-section{
    background:#f8fafc;
    padding:20px;
    border-radius:10px;
    border:1px solid #e2e8f0;
}

.order-section h4{
    margin:0 0 16px 0;
    color:var(--cor-texto);
    font-weight:600;
    font-size:16px;
    padding-bottom:8px;
    border-bottom:2px solid var(--cor-primaria);
    display:inline-block;
}

/* Forms */
.form-container{
    background:#ffffff;
    border-radius:var(--radius-lg);
    padding:24px;
    border:1px solid var(--cor-borda);
}

.form-group{
    margin-bottom:16px;
}

.form-group label{
    display:block;
    margin-bottom:8px;
    font-weight:500;
    color:var(--cor-texto);
    font-size:13px;
    letter-spacing:0.025em;
}

.form-group input,
.form-group textarea,
.form-group select{
    width:100%;
    padding:10px 12px;
    border:1px solid var(--cor-borda);
    border-radius:6px;
    font-size:13px;
    font-family:inherit;
    transition:border-color 0.2s;
    background:#ffffff;
}

.form-group input:focus,
.form-group textarea:focus,
.form-group select:focus{
    outline:none;
    border-color:var(--cor-primaria);
    box-shadow:0 0 0 3px rgba(30,64,175,0.1);
}

.modern-input{
    width:100%;
    padding:10px 12px;
    border:1px solid var(--cor-borda);
    border-radius:6px;
    font-size:13px;
    font-family:inherit;
    transition:border-color 0.2s;
    background:#ffffff;
}

.modern-input:focus{
    outline:none;
    border-color:var(--cor-primaria);
    box-shadow:0 0 0 3px rgba(30,64,175,0.1);
}

.form-row{
    display:flex;
    gap:16px;
    margin-bottom:16px;
}

.form-row .form-group{
    flex:1;
    margin-bottom:0;
}

/* Tables */
table{
    width:100%;
    border-collapse:collapse;
    margin-top:16px;
}

th,td{
    padding:12px;
    text-align:left;
    border-bottom:1px solid var(--cor-borda);
}

th{
    font-weight:600;
    color:var(--cor-texto);
    background:#f8fafc;
}

tbody tr:hover{
    background:#f8fafc;
}

/* Estoque cards */
.estoque-card{
    background:#ffffff;
    border-radius:var(--radius-lg);
    padding:20px;
    border:1px solid var(--cor-borda);
    box-shadow:var(--shadow-1);
    transition:all 0.2s;
}

.estoque-card:hover{
    box-shadow:var(--shadow-2);
    transform:translateY(-2px);
}

/* Action buttons */
.btn-sm{
    padding:6px 12px;
    font-size:11px;
    font-weight:500;
    border-radius:4px;
    border:none;
    cursor:pointer;
    transition:all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    letter-spacing:0.025em;
    position:relative;
    overflow:hidden;
    transform:translateY(0) scale(1);
}

.btn-sm::after{
    content:'';
    position:absolute;
    top:50%;
    left:-100%;
    width:100%;
    height:100%;
    background:linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
    transition:left 0.5s ease;
    transform:translateY(-50%);
}

.btn-sm:hover{
    transform:translateY(-2px) scale(1.05);
    box-shadow:0 6px 20px rgba(0,0,0,0.15);
}

.btn-sm:hover::after{
    left:100%;
}

.btn-editar{
    background:#10b981;
    color:#ffffff;
}

.btn-editar:hover{
    background:#0d9f73;
    box-shadow:0 6px 20px rgba(16,185,129,0.4);
}

.btn-excluir{
    background:#ef4444;
    color:#ffffff;
}

.btn-excluir:hover{
    background:#dc2626;
    box-shadow:0 6px 20px rgba(239,68,68,0.4);
}

.btn-novo-produto{
    background:var(--cor-secundaria);
    color:#ffffff;
}

.btn-novo-produto:hover{
    background:#2563eb;
    box-shadow:0 6px 20px rgba(59,130,246,0.4);
}

.estoque-actions{
    display:flex;
    gap:8px;
    justify-content:center;
}

/* Toast notifications */
.pcp-toast-container{
    position:fixed;
    top:20px;
    right:20px;
    z-index:1100;
    display:flex;
    flex-direction:column;
    gap:8px;
}

.pcp-toast{
    min-width:300px;
    max-width:400px;
    background:#ffffff;
    border:1px solid var(--cor-borda);
    border-radius:6px;
    box-shadow:var(--shadow-2);
    padding:16px;
    display:flex;
    align-items:flex-start;
    gap:12px;
    transform:translateX(100%);
    transition:transform 0.3s ease;
}

.pcp-toast.show{
    transform:translateX(0);
}

.pcp-toast.success{
    border-left:4px solid #10b981;
}

.pcp-toast.error{
    border-left:4px solid #ef4444;
}

.pcp-toast.info{
    border-left:4px solid var(--cor-primaria);
}

/* Loading spinner */
.pcp-spinner{
    width:20px;
    height:20px;
    border:2px solid var(--cor-borda);
    border-top:2px solid var(--cor-primaria);
    border-radius:50%;
    animation:spin 1s linear infinite;
}

@keyframes spin{
    0%{transform:rotate(0deg)}
    100%{transform:rotate(360deg)}
}

/* Header controls */
.main-header{
    margin-bottom:24px;
}

.main-header h1{
    font-size:24px;
    font-weight:600;
    color:var(--cor-texto);
    margin:0;
    letter-spacing:-0.025em;
}

.header-actions{
    display:flex;
    flex-direction:column;
    gap:16px;
    align-items:flex-end;
}

.header-actions:not(:has(h1)) {
    align-items:center;
    justify-content:center;
    padding:20px 0;
}

.header-controls{
    display:flex;
    gap:12px;
    align-items:center;
}

/* Utilities */
.hidden{display:none!important}
.text-sm{font-size:11px;line-height:1.4}
.text-center{text-align:center}
.text-right{text-align:right}
.muted{color:var(--cor-texto-claro);font-weight:400}
.mt-0{margin-top:0}
.mb-0{margin-bottom:0}
.mt-6{margin-top:24px}
.pad-12{padding:12px}
.pad-24{padding:24px}
.sr-only{
    position:absolute;
    width:1px;
    height:1px;
    padding:0;
    margin:-1px;
    overflow:hidden;
    clip:rect(0,0,0,0);
    white-space:nowrap;
    border:0;
}

/* View switching */
#dashboard-view{
    display:block;
}

#nova-ordem-view,
#editar-view,
#materiais-view,
#ordem-compra-view{
    display:none;
}

#nova-ordem-view.active,
#editar-view.active,
#materiais-view.active,
#ordem-compra-view.active{
    display:block;
}

/* Badges for status indicators */
.badge{
    display:inline-block;
    padding:3px 8px;
    border-radius:12px;
    font-size:10px;
    font-weight:600;
    text-transform:uppercase;
    letter-spacing:0.5px;
    line-height:1.2;
}

.badge.success{
    background:#dcfce7;
    color:#166534;
}

.badge.warning{
    background:#fef3c7;
    color:#92400e;
}

.badge.error{
    background:#fecaca;
    color:#991b1b;
}

.badge.info{
    background:#dbeafe;
    color:#1d4ed8;
}

/* Overlay for mobile sidebar */
.sidebar-overlay{
    position:fixed;
    top:0;
    left:0;
    right:0;
    bottom:0;
    background:rgba(0,0,0,0.5);
    z-index:998;
    display:none;
}

.sidebar-overlay.visible{
    display:block;
}

/* Focus styles */
*:focus{
    outline:2px solid var(--cor-primaria);
    outline-offset:2px;
}

/* Skip link for accessibility */
.skip-link{
    position:absolute;
    top:-40px;
    left:6px;
    background:var(--cor-primaria);
    color:white;
    padding:8px;
    text-decoration:none;
    border-radius:4px;
    z-index:2000;
}

.skip-link:focus{
    top:6px;
}

/* Enhanced notification panel styles */
.notifications-header {
    display: flex !important;
    justify-content: space-between !important;
    align-items: center !important;
    margin-bottom: 1rem !important;
    padding-bottom: 0.5rem !important;
    border-bottom: 1px solid var(--border-color) !important;
}

.notifications-header h4 {
    margin: 0 !important;
    color: var(--text-primary) !important;
    font-size: 1.1rem !important;
    font-weight: 600 !important;
}

.clear-notifications-btn {
    background: var(--danger-color) !important;
    color: white !important;
    border: none !important;
    padding: 0.25rem 0.75rem !important;
    border-radius: 0.375rem !important;
    font-size: 0.75rem !important;
    cursor: pointer !important;
    transition: all 0.2s ease !important;
}

.clear-notifications-btn:hover {
    background: var(--danger-hover) !important;
    transform: translateY(-1px) !important;
}

.notifications-list {
    max-height: 400px !important;
    overflow-y: auto !important;
}

.notification-item {
    display: flex !important;
    align-items: flex-start !important;
    gap: 0.75rem !important;
    padding: 0.75rem !important;
    border-radius: 0.5rem !important;
    margin-bottom: 0.5rem !important;
    background: var(--panel-bg) !important;
    border: 1px solid var(--border-color) !important;
    transition: all 0.2s ease !important;
    position: relative !important;
}

.notification-item:hover {
    background: var(--hover-bg) !important;
    transform: translateX(2px) !important;
}

.notification-item.unread {
    background: var(--primary-light) !important;
    border-left: 3px solid var(--primary-color) !important;
}

.notification-item.unread::before {
    content: '' !important;
    position: absolute !important;
    top: 0.75rem !important;
    right: 0.75rem !important;
    width: 8px !important;
    height: 8px !important;
    background: var(--primary-color) !important;
    border-radius: 50% !important;
    animation: pulse 2s infinite !important;
}

.notification-icon {
    flex-shrink: 0 !important;
    width: 32px !important;
    height: 32px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    border-radius: 50% !important;
}

.notification-item.success .notification-icon {
    background: var(--success-light) !important;
    color: var(--success-color) !important;
}

.notification-item.error .notification-icon {
    background: var(--danger-light) !important;
    color: var(--danger-color) !important;
}

.notification-item.warning .notification-icon {
    background: var(--warning-light) !important;
    color: var(--warning-color) !important;
}

.notification-item.info .notification-icon {
    background: var(--info-light) !important;
    color: var(--info-color) !important;
}

.notification-content {
    flex: 1 !important;
    min-width: 0 !important;
}

.notification-message {
    font-weight: 500 !important;
    color: var(--text-primary) !important;
    margin-bottom: 0.25rem !important;
    word-wrap: break-word !important;
}

.notification-time {
    font-size: 0.75rem !important;
    color: var(--text-secondary) !important;
}

.notification-source {
    font-size: 0.65rem !important;
    color: var(--text-muted) !important;
    text-transform: uppercase !important;
    letter-spacing: 0.5px !important;
    margin-top: 0.125rem !important;
}

.notification-remove {
    flex-shrink: 0 !important;
    background: none !important;
    border: none !important;
    color: var(--text-secondary) !important;
    cursor: pointer !important;
    padding: 0.25rem !important;
    border-radius: 0.25rem !important;
    transition: all 0.2s ease !important;
    opacity: 0.7 !important;
}

.notification-remove:hover {
    background: var(--danger-light) !important;
    color: var(--danger-color) !important;
    opacity: 1 !important;
    transform: scale(1.1) !important;
}

.no-notifications {
    text-align: center !important;
    padding: 2rem 1rem !important;
    color: var(--text-secondary) !important;
    font-style: italic !important;
}

/* Slide out animation for removing notifications */
@keyframes slideOut {
    0% {
        transform: translateX(0) !important;
        opacity: 1 !important;
    }
    100% {
        transform: translateX(100%) !important;
        opacity: 0 !important;
    }
}

/* Styles for Materials and Products Tables */
.estoque-table {
    width: 100% !important;
    border-collapse: collapse !important;
    background: var(--panel-bg) !important;
    border-radius: 0.5rem !important;
    overflow: hidden !important;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1) !important;
    margin-bottom: 1.5rem !important;
}

.estoque-table thead {
    background: var(--primary-color) !important;
    color: white !important;
}

.estoque-table th {
    padding: 1rem 0.75rem !important;
    text-align: left !important;
    font-weight: 600 !important;
    font-size: 0.875rem !important;
    letter-spacing: 0.025em !important;
}

.estoque-table td {
    padding: 0.875rem 0.75rem !important;
    border-bottom: 1px solid var(--border-color) !important;
    color: var(--text-primary) !important;
    font-size: 0.875rem !important;
}

.estoque-table tbody tr:hover {
    background: var(--hover-bg) !important;
}

.estoque-table .text-center {
    text-align: center !important;
}

.estoque-table .w-8pct {
    width: 8% !important;
}

.estoque-table .w-10pct {
    width: 10% !important;
}

.estoque-table .w-12pct {
    width: 12% !important;
}

.estoque-table .w-14pct {
    width: 14% !important;
}

.estoque-table .w-18pct {
    width: 18% !important;
}

/* SKU Badge Styling */
.sku-badge {
    display: inline-block !important;
    background: linear-gradient(135deg, #10b981, #059669) !important;
    color: white !important;
    padding: 0.25rem 0.5rem !important;
    border-radius: 0.375rem !important;
    font-size: 0.75rem !important;
    font-weight: 600 !important;
    letter-spacing: 0.05em !important;
    text-transform: uppercase !important;
    box-shadow: 0 2px 4px rgba(16, 185, 129, 0.2) !important;
}

/* GTIN Text Styling */
.gtin-text {
    font-family: 'Courier New', monospace !important;
    font-size: 0.8rem !important;
    color: var(--text-secondary) !important;
    background: var(--surface) !important;
    padding: 0.2rem 0.4rem !important;
    border-radius: 0.25rem !important;
    border: 1px solid var(--border-color) !important;
}

.btn-sm {
    padding: 0.375rem 0.75rem !important;
    font-size: 0.75rem !important;
    border: none !important;
    border-radius: 0.375rem !important;
    cursor: pointer !important;
    margin: 0 0.125rem !important;
    transition: all 0.2s ease !important;
    text-decoration: none !important;
    display: inline-flex !important;
    align-items: center !important;
    gap: 0.25rem !important;
}

.btn-sm:hover {
    transform: translateY(-1px) !important;
}

.btn-sm.btn-primary {
    background: var(--primary-color) !important;
    color: white !important;
}

.btn-sm.btn-primary:hover {
    background: var(--primary-hover) !important;
}

.btn-sm.btn-danger {
    background: var(--danger-color) !important;
    color: white !important;
}

.btn-sm.btn-danger:hover {
    background: var(--danger-hover) !important;
}

/* Botões específicos para ações de produtos */
.btn-editar-prod {
    background: linear-gradient(135deg, #3b82f6, #1d4ed8) !important;
    color: white !important;
    padding: 0.375rem 0.75rem !important;
    font-size: 0.75rem !important;
    border: none !important;
    border-radius: 0.375rem !important;
    cursor: pointer !important;
    margin: 0 0.125rem !important;
    transition: all 0.2s ease !important;
    text-decoration: none !important;
    display: inline-flex !important;
    align-items: center !important;
    gap: 0.25rem !important;
    font-weight: 500 !important;
}

.btn-editar-prod:hover {
    background: linear-gradient(135deg, #1d4ed8, #1e40af) !important;
    transform: translateY(-1px) !important;
    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3) !important;
}

.btn-excluir-prod {
    background: linear-gradient(135deg, #ef4444, #dc2626) !important;
    color: white !important;
    padding: 0.375rem 0.75rem !important;
    font-size: 0.75rem !important;
    border: none !important;
    border-radius: 0.375rem !important;
    cursor: pointer !important;
    margin: 0 0.125rem !important;
    transition: all 0.2s ease !important;
    text-decoration: none !important;
    display: inline-flex !important;
    align-items: center !important;
    gap: 0.25rem !important;
    font-weight: 500 !important;
}

.btn-excluir-prod:hover {
    background: linear-gradient(135deg, #dc2626, #b91c1c) !important;
    transform: translateY(-1px) !important;
    box-shadow: 0 4px 12px rgba(239, 68, 68, 0.3) !important;
}

/* Modal de Edição de Produto Profissional */
.modal-xl {
    max-width: 1200px !important;
}

.product-edit-form {
    display: flex;
    flex-direction: column;
    gap: 24px;
}

.form-section {
    background: var(--surface);
    border: 1px solid var(--border-color);
    border-radius: 12px;
    padding: 20px;
    transition: all 0.3s ease;
}

.form-section:hover {
    box-shadow: 0 4px 20px rgba(0,0,0,0.08);
    border-color: var(--primary-color);
}

.section-header {
    margin-bottom: 16px;
    padding-bottom: 12px;
    border-bottom: 2px solid var(--border-color);
}

.section-header h4 {
    margin: 0;
    color: var(--primary-color);
    font-size: 16px;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 8px;
}

.section-header i {
    color: var(--primary-color);
}

.form-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 16px;
    margin-bottom: 16px;
}

.form-group {
    display: flex;
    flex-direction: column;
    gap: 6px;
}

.form-group label {
    font-weight: 500;
    color: var(--text-primary);
    font-size: 14px;
}

.form-control {
    padding: 12px 16px;
    border: 2px solid var(--border-color);
    border-radius: 8px;
    font-size: 14px;
    transition: all 0.3s ease;
    background: white;
}

.form-control:focus {
    outline: none;
    border-color: var(--primary-color);
    box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
}

.form-help {
    color: var(--text-secondary);
    font-size: 12px;
    margin-top: 4px;
}

/* Input com Badge */
.input-with-badge {
    position: relative;
}

.input-badge {
    position: absolute;
    right: 8px;
    top: 50%;
    transform: translateY(-50%);
    background: var(--success-color);
    color: white;
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 10px;
    font-weight: 600;
    letter-spacing: 0.5px;
}

/* Input com Moeda */
.input-with-currency {
    position: relative;
}

.currency-symbol {
    position: absolute;
    left: 12px;
    top: 50%;
    transform: translateY(-50%);
    color: var(--text-secondary);
    font-weight: 600;
}

.input-with-currency input {
    padding-left: 32px;
}

/* Tags Input */
.tags-input-container {
    border: 2px solid var(--border-color);
    border-radius: 8px;
    padding: 8px;
    background: white;
    transition: all 0.3s ease;
}

.tags-input-container:focus-within {
    border-color: var(--primary-color);
    box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
}

.tags-input {
    border: none;
    outline: none;
    padding: 4px 0;
    width: 100%;
    font-size: 14px;
}

.tags-display {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
    margin-top: 8px;
}

.tag-item {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    background: var(--primary-color);
    color: white;
    padding: 4px 8px;
    border-radius: 16px;
    font-size: 12px;
    font-weight: 500;
}

.tag-remove {
    cursor: pointer;
    background: rgba(255,255,255,0.3);
    border-radius: 50%;
    width: 16px;
    height: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 10px;
}

.tag-remove:hover {
    background: rgba(255,255,255,0.5);
}

/* Info Grid */
.info-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 16px;
}

.info-item {
    display: flex;
    flex-direction: column;
    gap: 4px;
    padding: 12px;
    background: var(--surface-hover);
    border-radius: 8px;
}

.info-item label {
    font-size: 12px;
    font-weight: 600;
    color: var(--text-secondary);
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.info-value {
    font-size: 14px;
    font-weight: 500;
    color: var(--text-primary);
}

.status-badge {
    background: var(--success-color);
    color: white;
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 12px;
    width: fit-content;
}

/* Responsividade */
@media (max-width: 768px) {
    .form-row {
        grid-template-columns: 1fr;
    }
    
    .modal-xl {
        max-width: 95vw !important;
        margin: 10px;
    }
    
    .info-grid {
        grid-template-columns: 1fr;
    }
}

.info-line {
    background: var(--info-light) !important;
    color: var(--info-color) !important;
    padding: 0.5rem 1rem !important;
    border-radius: 0.375rem !important;
    font-size: 0.875rem !important;
    margin-bottom: 1rem !important;
    border-left: 3px solid var(--info-color) !important;
}

.pagination {
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    gap: 1rem !important;
    margin-top: 1rem !important;
    padding: 1rem !important;
    background: var(--panel-bg) !important;
    border-radius: 0.5rem !important;
}

.pagination span {
    color: var(--text-secondary) !important;
    font-size: 0.875rem !important;
}

.pad-12 {
    padding: 0.75rem !important;
}

.text-danger {
    color: var(--danger-color) !important;
}

.muted {
    color: var(--text-secondary) !important;
    font-style: italic !important;
}

#tabela-materiais-container h3,
#tabela-produtos-container h3 {
    color: var(--text-primary) !important;
    margin-bottom: 1rem !important;
    font-size: 1.25rem !important;
    font-weight: 600 !important;
    display: flex !important;
    align-items: center !important;
    gap: 0.5rem !important;
}

#tabela-materiais-container h3::before {
    content: '\f1b2' !important; /* fa-cube */
    font-family: 'Font Awesome 5 Free' !important;
    font-weight: 900 !important;
    color: var(--primary-color) !important;
}

#tabela-produtos-container h3::before {
    content: '\f468' !important; /* fa-box-open */
    font-family: 'Font Awesome 5 Free' !important;
    font-weight: 900 !important;
    color: var(--success-color) !important;
}

/* Product Details Modal Styles */
.modal-lg {
    max-width: 900px !important;
}

.product-details-grid {
    display: grid !important;
    gap: 1.5rem !important;
    grid-template-columns: 1fr !important;
}

.product-info-section,
.product-stock-section,
.product-variations-section,
.product-dates-section {
    background: var(--panel-bg) !important;
    border: 1px solid var(--border-color) !important;
    border-radius: 0.5rem !important;
    padding: 1.5rem !important;
}

.product-details-grid h4 {
    margin: 0 0 1rem 0 !important;
    color: var(--text-primary) !important;
    font-size: 1rem !important;
    font-weight: 600 !important;
    display: flex !important;
    align-items: center !important;
    gap: 0.5rem !important;
}

.product-details-grid h4 i {
    color: var(--primary-color) !important;
}

.info-grid {
    display: grid !important;
    gap: 1rem !important;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)) !important;
}

.info-item {
    display: flex !important;
    flex-direction: column !important;
    gap: 0.25rem !important;
}

.info-item label {
    font-weight: 600 !important;
    color: var(--text-secondary) !important;
    font-size: 0.875rem !important;
}

.info-value {
    color: var(--text-primary) !important;
    font-size: 1rem !important;
    font-weight: 500 !important;
}

.info-value.stock-value {
    color: var(--success-color) !important;
    font-weight: 700 !important;
}

.info-value.price-value,
.info-value.total-value {
    color: var(--primary-color) !important;
    font-weight: 700 !important;
}

.variations-list {
    display: flex !important;
    flex-wrap: wrap !important;
    gap: 0.5rem !important;
}

.variation-tag {
    background: var(--primary-light) !important;
    color: var(--primary-color) !important;
    padding: 0.25rem 0.75rem !important;
    border-radius: 1rem !important;
    font-size: 0.75rem !important;
    font-weight: 500 !important;
}

.no-variations {
    color: var(--text-secondary) !important;
    font-style: italic !important;
}

.product-details-loading {
    text-align: center !important;
    padding: 3rem !important;
    color: var(--text-secondary) !important;
}

.product-details-loading i {
    font-size: 2rem !important;
    margin-bottom: 1rem !important;
    color: var(--primary-color) !important;
}

.error-message {
    text-align: center !important;
    padding: 3rem !important;
    color: var(--danger-color) !important;
}

.error-message i {
    font-size: 3rem !important;
    margin-bottom: 1rem !important;
}

/* Enhanced Search Results Styles */
.search-inline-dropdown,
#search-inline-results {
    position: absolute !important;
    top: 100% !important;
    left: 0 !important;
    right: 0 !important;
    background: #ffffff !important;
    border: 1px solid #e2e8f0 !important;
    border-radius: 0.5rem !important;
    box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04) !important;
    max-height: 400px !important;
    overflow-y: auto !important;
    z-index: 1001 !important;
    margin-top: 4px !important;
}

.search-inline-dropdown:not(.visible),
#search-inline-results:not(.visible) {
    display: none !important;
}

.search-inline-dropdown.visible {
    display: block !important;
}

.search-result-item {
    display: flex !important;
    justify-content: space-between !important;
    align-items: center !important;
    padding: 0.75rem 1rem !important;
    border-bottom: 1px solid #e2e8f0 !important;
    transition: background-color 0.2s ease !important;
    background: #ffffff !important;
}

.search-result-item:last-child {
    border-bottom: none !important;
}

.search-result-item:hover {
    background: #f8fafc !important;
}

.result-info {
    flex: 1 !important;
    min-width: 0 !important;
}

.result-title {
    font-weight: 600 !important;
    color: var(--text-primary) !important;
    margin-bottom: 0.25rem !important;
    white-space: nowrap !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
}

.result-details {
    font-size: 0.875rem !important;
    color: var(--text-secondary) !important;
}

.result-actions {
    flex-shrink: 0 !important;
    margin-left: 1rem !important;
}

.search-no-results {
    padding: 1rem !important;
    text-align: center !important;
    color: var(--text-secondary) !important;
    font-style: italic !important;
}

/* Dark mode support for product details */
body.dark-mode .product-info-section,
body.dark-mode .product-stock-section,
body.dark-mode .product-variations-section,
body.dark-mode .product-dates-section {
    background: #0f172a !important;
    border-color: #334155 !important;
}

body.dark-mode .product-details-grid h4 {
    color: #f8fafc !important;
}

body.dark-mode .info-item label {
    color: #cbd5e1 !important;
}

body.dark-mode .info-value {
    color: #f8fafc !important;
}

body.dark-mode .search-inline-dropdown,
body.dark-mode #search-inline-results {
    background: #1e293b !important;
    border-color: #334155 !important;
    box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.3), 0 10px 10px -5px rgba(0, 0, 0, 0.2) !important;
}

body.dark-mode .search-result-item {
    background: #1e293b !important;
    border-bottom-color: #334155 !important;
}

body.dark-mode .search-result-item:hover {
    background: #334155 !important;
}

body.dark-mode .result-title {
    color: #f8fafc !important;
}

body.dark-mode .result-details {
    color: #cbd5e1 !important;
}

/* Enhanced search results styling */
.search-no-results {
    padding: 1.5rem !important;
    text-align: center !important;
    color: #64748b !important;
    background: #ffffff !important;
}

.search-no-results i {
    font-size: 2rem !important;
    margin-bottom: 0.5rem !important;
    color: #94a3b8 !important;
}

.search-no-results p {
    margin: 0.5rem 0 !important;
    font-weight: 500 !important;
    color: #475569 !important;
}

.search-no-results small {
    color: #94a3b8 !important;
    font-size: 0.75rem !important;
}

.search-error {
    padding: 1.5rem !important;
    text-align: center !important;
    color: #dc2626 !important;
    background: #ffffff !important;
}

.search-error i {
    font-size: 2rem !important;
    margin-bottom: 0.5rem !important;
}

/* Dark mode for search states */
body.dark-mode .search-no-results,
body.dark-mode .search-error {
    background: #1e293b !important;
}

body.dark-mode .search-no-results {
    color: #cbd5e1 !important;
}

body.dark-mode .search-no-results p {
    color: #e2e8f0 !important;
}

body.dark-mode .search-no-results i,
body.dark-mode .search-no-results small {
    color: #94a3b8 !important;
}

/* Fix transparent search bar background */
.search-input {
    background: #ffffff !important;
    color: var(--text-primary) !important;
}

body.dark-mode .search-input {
    background: #1e293b !important;
    color: #f8fafc !important;
    border-color: #334155 !important;
}

/* Quick Modal enhanced styling */
.quick-modal {
    background: var(--panel-bg) !important;
    border: 1px solid var(--border-color) !important;
}

body.dark-mode .quick-modal {
    background: #0f172a !important;
    border-color: #334155 !important;
}

/* Enhanced page styling for materiais and ordem-compra */
.main-header h1 i {
    transition: transform 0.2s ease;
}

.main-header:hover h1 i {
    transform: scale(1.1);
}

.panel h2 i {
    transition: color 0.2s ease;
}

.panel:hover h2 i {
    opacity: 0.8;
}

/* Form improvements */
.form-group label i {
    opacity: 0.7;
    transition: opacity 0.2s ease;
}

.form-group:hover label i {
    opacity: 1;
}

/* Status card styling */
.estoque-card {
    background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
    border: 1px solid #e2e8f0;
    border-radius: 8px;
    padding: 16px;
    margin: 12px 0;
}

body.dark-mode .estoque-card {
    background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
    border-color: #475569;
}

.estoque-card p {
    margin: 8px 0;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.estoque-card span {
    font-weight: 600;
    color: #3b82f6;
}

body.dark-mode .estoque-card span {
    color: #60a5fa;
}

/* Button group improvements */
.pcp-quick-actions-group {
    display: flex;
    flex-wrap: wrap;
    gap: 12px;
    margin-bottom: 16px;
}

.pcp-quick-actions-group .btn {
    flex: 1;
    min-width: 150px;
    justify-content: center;
    align-items: center;
    display: flex;
    gap: 8px;
}

/* Instructions panel styling */
.panel ol {
    color: var(--text-secondary);
}

.panel ol li {
    margin-bottom: 4px;
    padding-left: 4px;
}

/* Enhanced grid for different layouts */
.dashboard-grid[style*="grid-template-columns: 2fr 1fr"] {
    align-items: start;
}

.dashboard-grid[style*="grid-template-columns: 2fr 1fr"] .panel:last-child {
    position: sticky;
    top: calc(var(--header-height) + 24px);
}

/* Form full width button */
.btn[style*="width: 100%"] {
    padding: 14px 24px;
    font-size: 16px;
    font-weight: 600;
}

/* Button variations */
.btn-primary {
    background: #3b82f6;
    color: white;
}

.btn-primary:hover {
    background: #2563eb;
    transform: translateY(-1px);
}

.btn-success {
    background: #059669;
    color: white;
}

.btn-success:hover {
    background: #047857;
    transform: translateY(-1px);
}

.btn-info {
    background: #0891b2;
    color: white;
}

.btn-info:hover {
    background: #0e7490;
    transform: translateY(-1px);
}

.btn-warning {
    background: #f59e0b;
    color: white;
}

.btn-warning:hover {
    background: #d97706;
    transform: translateY(-1px);
}

/* Dark mode button variations */
body.dark-mode .btn-primary {
    background: #60a5fa;
    color: #1e293b;
}

body.dark-mode .btn-primary:hover {
    background: #93c5fd;
}

body.dark-mode .btn-success {
    background: #10b981;
    color: #1e293b;
}

body.dark-mode .btn-success:hover {
    background: #34d399;
}

body.dark-mode .btn-info {
    background: #06b6d4;
    color: #1e293b;
}

body.dark-mode .btn-info:hover {
    background: #22d3ee;
}

body.dark-mode .btn-warning {
    background: #fbbf24;
    color: #1e293b;
}

body.dark-mode .btn-warning:hover {
    background: #fcd34d;
}

/* Force buttons to be visible in materiais page */
#materiais-view .btn,
#materiais-view button {
    display: flex !important;
    visibility: visible !important;
    opacity: 1 !important;
    position: relative !important;
    z-index: 1 !important;
}

/* Responsive improvements */
@media (max-width: 768px) {
    .dashboard-grid[style*="grid-template-columns: 2fr 1fr"] {
        grid-template-columns: 1fr !important;
    }
    
    .pcp-quick-actions-group .btn {
        min-width: auto;
        flex: 1 1 calc(50% - 6px);
    }
}

/* ================================
   MONITORAMENTO PCP - TABULAR COMPACTO - v2.0
   ================================ */

/* Header das empresas - Design simples e elegante */
.empresas-header {
    padding: 20px 24px 16px;
    background: #ffffff;
    border-bottom: 1px solid #e5e7eb;
}

.empresas-header h3 {
    margin: 0 0 4px 0;
    font-size: 16px;
    font-weight: 600;
    color: #374151;
}

.empresas-subtitle {
    font-size: 12px;
    color: #6b7280;
    font-style: italic;
}

/* Container das empresas */
.ordens-container {
    display: flex !important;
    flex-direction: column !important;
    gap: 2px;
    padding: 12px;
}

/* Container de monitoramento */
.pcp-monitoring-container {
    background: #ffffff;
    border-radius: 10px;
    border: 1px solid #e2e8f0;
    overflow: hidden;
    box-shadow: 0 4px 12px rgba(0,0,0,0.08);
}

.monitoring-content {
    background: #ffffff;
    min-height: 200px;
}

/* Itens de empresa - Lista com indicadores de status */
.empresa-item {
    background: #ffffff;
    border: 1px solid #e2e8f0;
    border-radius: 10px;
    padding: 0;
    cursor: pointer;
    transition: all 0.25s ease;
    margin-bottom: 8px;
    overflow: hidden;
}

.empresa-item:hover {
    border-color: #3b82f6;
    transform: translateX(4px);
    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.15);
}

.empresa-item:last-child {
    margin-bottom: 0;
}

.empresa-content {
    display: flex;
    align-items: center;
    padding: 16px 20px;
}

.empresa-status {
    margin-right: 16px;
}

.status-dot {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    display: inline-block;
    position: relative;
}

.status-dot::after {
    content: '';
    position: absolute;
    top: -2px;
    left: -2px;
    right: -2px;
    bottom: -2px;
    border-radius: 50%;
    animation: pulse 2s infinite;
    opacity: 0.4;
}

.status-dot.status-success {
    background: #22c55e;
}

.status-dot.status-success::after {
    background: #22c55e;
}

.status-dot.status-progress {
    background: #f59e0b;
}

.status-dot.status-progress::after {
    background: #f59e0b;
}

.status-dot.status-warning {
    background: #ef4444;
}

.status-dot.status-warning::after {
    background: #ef4444;
}

.status-dot.status-default {
    background: #64748b;
}

.status-dot.status-default::after {
    background: #64748b;
}

.empresa-info {
    flex: 1;
}

.empresa-nome {
    font-size: 15px;
    font-weight: 600;
    color: #374151;
    display: flex;
    align-items: center;
    margin-bottom: 4px;
}

.empresa-status-text {
    font-size: 12px;
    color: #6b7280;
    font-weight: 500;
}

.empresa-item:hover .empresa-nome {
    color: #1e40af;
}

/* Variações de borda por status */
.empresa-item.status-success {
    border-left: 4px solid #22c55e;
}

.empresa-item.status-progress {
    border-left: 4px solid #f59e0b;
}

.empresa-item.status-warning {
    border-left: 4px solid #ef4444;
}

.empresa-item.status-default {
    border-left: 4px solid #64748b;
}

@keyframes pulse {
    0% {
        transform: scale(0.8);
        opacity: 0.4;
    }
    70% {
        transform: scale(1.2);
        opacity: 0;
    }
    100% {
        transform: scale(1.2);
        opacity: 0;
    }
}

/* ================================
   MODAL DE DETALHES DO PEDIDO
   ================================ */

.modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(6, 7, 20, 0.6);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 10000;
    backdrop-filter: blur(6px);
}

.pedido-modal {
    position: relative;
    background: var(--cor-container);
    border-radius: 14px;
    box-shadow: 0 20px 60px rgba(6, 7, 20, 0.28);
    max-width: 1100px;
    width: 95%;
    max-height: 90vh;
    overflow: hidden;
    display: flex;
    flex-direction: column;
}

.pedido-modal .modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px 28px;
    border-bottom: none;
    background: linear-gradient(90deg, #1e40af 0%, #06b6d4 100%);
    color: #ffffff;
    box-shadow: inset 0 -1px 0 rgba(255,255,255,0.06), 0 8px 30px rgba(2,6,23,0.12);
}

.pedido-modal .modal-header h2 {
    margin: 0;
    font-size: 18px;
    font-weight: 700;
    color: #ffffff;
    display: flex;
    align-items: center;
    gap: 12px;
}

/* small floating badge for the order code (e.g. OP-0023) */
.pedido-modal .order-badge {
    position: absolute;
    top: -18px;
    left: 28px;
    background: linear-gradient(90deg, #2563eb 0%, #06b6d4 100%);
    color: #fff;
    padding: 8px 12px;
    border-radius: 999px;
    font-weight: 700;
    font-size: 13px;
    box-shadow: 0 8px 20px rgba(37,99,235,0.18);
}

.pedido-modal .modal-close {
    background: rgba(255,255,255,0.08);
    border: none;
    font-size: 18px;
    cursor: pointer;
    color: rgba(255,255,255,0.95);
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 10px;
    transition: all 0.18s ease;
}

.pedido-modal .modal-close:hover {
    transform: scale(1.05);
    background: rgba(255,255,255,0.12);
}

.pedido-modal .modal-body {
    padding: 24px 28px;
    overflow-y: auto;
    background: transparent;
}

.pedido-info-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 18px;
    margin-bottom: 18px;
}

.info-item {
    display: flex;
    flex-direction: column;
    gap: 6px;
}

.info-card {
    background: var(--cor-container);
    padding: 14px 16px;
    border-radius: 10px;
    border: 1px solid var(--cor-borda);
    display: flex;
    flex-direction: column;
    gap: 6px;
}

.info-item label {
    font-size: 12px;
    font-weight: 700;
    color: rgba(255,255,255,0.85);
}

.info-item span {
    font-size: 14px;
    font-weight: 600;
    color: var(--cor-texto);
    display: flex;
    align-items: center;
    gap: 8px;
}

.codigo-pedido {
    font-family: 'Courier New', monospace;
    font-weight: 800;
    color: #ffffff;
    background: rgba(255,255,255,0.06);
    padding: 6px 10px;
    border-radius: 8px;
}

/* Status badge variants keep previous colors but adapt sizing */
.status-badge { padding: 6px 12px; border-radius: 18px; font-weight:700; }

/* Tabela de produtos dentro do modal */
.pedido-modal table{
    width:100%;
    border-collapse:separate;
    border-spacing:0;
    margin-top:12px;
}

.pedido-modal table thead th{
    background: linear-gradient(90deg, #0b2545 0%, #1e40af 100%);
    color: #ffffff;
    padding: 14px 16px;
    font-weight:700;
    font-size:13px;
    text-transform:uppercase;
    letter-spacing:0.6px;
}

.pedido-modal table thead th:first-child{ border-top-left-radius:10px; }
.pedido-modal table thead th:last-child{ border-top-right-radius:10px; }

.pedido-modal table td{
    padding:12px 16px;
    border-top:1px solid rgba(14,20,30,0.04);
    background: var(--cor-container);
    color: var(--cor-texto);
}

.pedido-modal table tbody tr:hover{ background: rgba(30,64,175,0.03); }

/* Espaçamento entre linhas e aparência de cartão para cada linha */
.pedido-modal table{
    border-collapse: separate; /* permite spacing entre linhas */
    border-spacing: 0 12px; /* vertical gap between rows */
}

.pedido-modal table tbody tr{
    background: transparent; /* linhas aparentam como cartões através das TDs */
}

.pedido-modal table tbody td{
    background: #ffffff;
    border: none;
    padding: 14px 18px;
    vertical-align: middle;
    box-shadow: 0 6px 18px rgba(12,18,32,0.04);
}

/* arredondar cantos do 'cartão' de cada linha */
.pedido-modal table tbody tr td:first-child{
    border-top-left-radius: 10px;
    border-bottom-left-radius: 10px;
}

.pedido-modal table tbody tr td:last-child{
    border-top-right-radius: 10px;
    border-bottom-right-radius: 10px;
}

/* Estilização tipo 'pill' para quantidade, valor unitário e total */
.pedido-modal table tbody td:nth-child(3),
.pedido-modal table tbody td:nth-child(4),
.pedido-modal table tbody td:nth-child(5){
    background: rgba(16,185,129,0.08); /* pale green */
    color: #065f46; /* dark green text */
    font-weight:700;
    text-align:center;
    min-width:110px;
    display:inline-block;
    padding:10px 16px;
    border-radius:12px;
    box-shadow: inset 0 -1px 0 rgba(0,0,0,0.02);
}

/* Ajuste para quando conteúdo for mais largo (ex.: descrição) */
.pedido-modal table tbody td:nth-child(2){
    color: var(--cor-texto);
    font-weight:600;
}

/* Pequeno espaçamento interno do container da tabela */
.pedido-modal .table-wrapper{
    padding: 8px 6px 18px 6px;
}

/* Estilização dos botões do rodapé para combinar com o mockup */
.pedido-modal .modal-footer .btn{
    padding:10px 16px;
    border-radius:8px;
    font-weight:700;
}

.pedido-modal .modal-footer .btn.ghost{
    background: #f3f4f6;
    color: #374151;
    border: 1px solid #e5e7eb;
}

.pedido-modal .modal-footer .btn.primary-blue{
    background: linear-gradient(90deg,#3b82f6,#1e40af);
    color: #ffffff;
    border: none;
}

.pedido-modal .modal-footer .btn.success-green{
    background: linear-gradient(90deg,#059669,#10b981);
    color:#ffffff;
    border:none;
}

@media (max-width: 800px){
    .pedido-modal table tbody td:nth-child(3),
    .pedido-modal table tbody td:nth-child(4),
    .pedido-modal table tbody td:nth-child(5){
        display:block;
        width:100%;
        text-align:left;
        border-radius:8px;
        padding:8px 12px;
        margin-top:6px;
    }
    .pedido-modal table thead{ display:none; }
}

/* Footer sticky with shadow */
.pedido-modal .modal-footer{
    padding:16px 28px;
    border-top:none;
    background: linear-gradient(180deg, rgba(255,255,255,0.98), rgba(248,250,252,0.98));
    box-shadow: 0 -8px 24px rgba(6,7,20,0.04);
    display:flex;
    justify-content:flex-end;
    gap:12px;
}

.pedido-modal .modal-footer .btn{ min-width:140px; }

@media (max-width: 900px) {
    .pedido-modal { max-width: 92%; }
    .pedido-info-grid { grid-template-columns: 1fr; }
    .pedido-modal .order-badge { left: 18px; top: -16px; }
}

@media (max-width: 640px) {
    .pedido-modal { width: 98%; }
    .pedido-modal .modal-header h2{ font-size:16px }
    .pedido-modal .modal-close{ width:36px;height:36px }
    .pedido-modal table thead th{ padding:12px }
}

/* ================================
   HEADER PCP - VISUAL MODERNO
   ================================ */

.pcp-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 16px 24px;
    background: #ffffff;
    border-bottom: 1px solid #e5e7eb;
}

.pcp-header-title h3 {
    margin: 0;
    font-size: 16px;
    font-weight: 600;
    color: #374151;
}

/* Status Indicators removidos conforme solicitado */

/* PCP Actions - Botões do cabeçalho centralizados */
.pcp-actions {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 16px;
}

/* Botão de refresh moderno */
.btn-refresh {
    background: linear-gradient(135deg, #3b82f6 0%, #1e40af 100%);
    border: none;
    border-radius: 10px;
    width: 42px;
    height: 42px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.3s ease;
    color: white;
    position: relative;
    overflow: hidden;
    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
}

.btn-refresh::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.3);
    transition: all 0.4s ease;
    transform: translate(-50%, -50%);
}

.btn-refresh:hover {
    transform: translateY(-2px) scale(1.05);
    box-shadow: 0 8px 20px rgba(59, 130, 246, 0.4);
}

.btn-refresh:hover::before {
    width: 100px;
    height: 100px;
}

.btn-refresh:active {
    transform: translateY(0) scale(0.98);
}

.btn-refresh i {
    font-size: 16px;
    transition: transform 0.3s ease;
    position: relative;
    z-index: 1;
}

.btn-refresh:hover i {
    transform: rotate(180deg);
}

/* Responsive design */
@media (max-width: 768px) {
    .pcp-header {
        flex-direction: column;
        padding: 16px;
        gap: 12px;
    }
    
    .pcp-header-title {
        text-align: center;
    }
    
    .pcp-actions {
        flex-direction: column;
        gap: 12px;
    }
}

/* ================================
   ALERTAS DE ESTOQUE - DESIGN MODERNO E INTUITIVO
   ================================ */

.alertas-estoque-panel {
    background: #ffffff;
    border-radius: 12px;
    border: 1px solid #e5e7eb;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    overflow: hidden;
    transition: all 0.2s ease;
    position: relative;
}

/* ================================
   PAINEL ORDENS RECENTES - MESMO ESTILO DOS ALERTAS
   ================================ */

.pcp-monitoring-panel {
    background: #ffffff;
    border-radius: 12px;
    border: 1px solid #e5e7eb;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    overflow: hidden;
    transition: all 0.2s ease;
    position: relative;
}

.pcp-monitoring-panel::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: linear-gradient(90deg, #1e40af 0%, #3b82f6 40%, #8b5cf6 100%);
}

.pcp-monitoring-panel:hover {
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

/* ================================
   PAINEL QUICK ACTIONS - MESMO ESTILO DOS ALERTAS
   ================================ */

.quick-actions-panel {
    background: #ffffff;
    border-radius: 12px;
    border: 1px solid #e5e7eb;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    overflow: hidden;
    transition: all 0.2s ease;
    position: relative;
}

.quick-actions-panel::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: linear-gradient(90deg, #1e40af 0%, #3b82f6 40%, #8b5cf6 100%);
}

.quick-actions-panel:hover {
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

/* ================================
   PAINEL INDICADORES DE DESEMPENHO - MESMO ESTILO DOS ALERTAS
   ================================ */

.kpis-panel {
    background: #ffffff;
    border-radius: 12px;
    border: 1px solid #e5e7eb;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    overflow: hidden;
    transition: all 0.2s ease;
    position: relative;
}

.kpis-panel::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: linear-gradient(90deg, #1e40af 0%, #3b82f6 40%, #8b5cf6 100%);
}

.kpis-panel:hover {
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

.alertas-estoque-panel::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: linear-gradient(90deg, #1e40af 0%, #3b82f6 40%, #8b5cf6 100%);
}

.alertas-estoque-panel:hover {
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

.alertas-header {
    background: #ffffff;
    border-bottom: 1px solid #f3f4f6;
    padding: 20px 24px 16px 24px;
    position: relative;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.alertas-header h2 {
    margin: 0;
    font-size: 16px;
    font-weight: 600;
    color: #374151;
    letter-spacing: -0.025em;
}

/* Contador de alertas */
.alertas-contador {
    background: #dc2626;
    color: white;
    padding: 2px 8px;
    border-radius: 12px;
    font-size: 12px;
    font-weight: 600;
    min-width: 20px;
    text-align: center;
}
/* Conteúdo dos alertas */
.alertas-content {
    padding: 0;
    max-height: 280px;
    overflow-y: auto;
    background: #ffffff;
}

.alertas-content::-webkit-scrollbar {
    width: 4px;
}

.alertas-content::-webkit-scrollbar-track {
    background: transparent;
}

.alertas-content::-webkit-scrollbar-thumb {
    background: #d1d5db;
    border-radius: 2px;
}

.alertas-content::-webkit-scrollbar-thumb:hover {
    background: #9ca3af;
}

/* Itens de alerta individuais */
.alerta-item {
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    padding: 16px 24px;
    border-bottom: 1px solid #f9fafb;
    transition: background-color 0.15s ease;
    position: relative;
}

.alerta-item:hover {
    background: #f9fafb;
}

.alerta-item:last-child {
    border-bottom: none;
}

/* Estados específicos dos alertas - removido */

.alerta-main {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 2px;
}

.alerta-codigo {
    font-size: 12px;
    font-weight: 600;
    color: #6b7280;
    font-family: 'Inter', -apple-system, sans-serif;
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

.alerta-descricao {
    font-size: 14px;
    line-height: 1.3;
    font-weight: 400;
    color: #374151;
    margin-top: 1px;
}

.alerta-descricao.sem-estoque {
    color: #374151;
    font-weight: 400;
}

.alerta-descricao.estoque-baixo {
    color: #374151;
    font-weight: 400;
}

.alerta-quantidade {
    font-size: 14px;
    font-weight: 500;
    text-align: right;
    min-width: 60px;
    font-family: 'Inter', -apple-system, sans-serif;
    color: #6b7280;
}

.alerta-quantidade.sem-estoque {
    color: #6b7280;
    font-weight: 500;
}

.alerta-quantidade.estoque-baixo {
    color: #6b7280;
    font-weight: 500;
}

/* Estado vazio com visual limpo */
.alert-success,
.alert-empty,
.alert-error {
    padding: 32px 24px;
    text-align: center;
    margin: 0;
    font-size: 14px;
    font-style: italic;
    color: #6b7280;
}

.alert-success {
    background: #ffffff;
    color: #059669;
}

.alert-empty {
    background: #ffffff;
    color: #6b7280;
}

.alert-error {
    background: #ffffff;
    color: #dc2626;
}

/* Footer dos alertas */
.alertas-footer {
    background: #f9fafb;
    border-top: 1px solid #f3f4f6;
    padding: 14px 20px;
    display: flex;
    gap: 8px;
    justify-content: flex-end;
    align-items: center;
}

.alertas-footer .btn {
    padding: 8px 14px;
    border-radius: 6px;
    font-size: 13px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.15s ease;
    border: 1px solid transparent;
    display: flex;
    align-items: center;
    gap: 6px;
    text-decoration: none;
}

.alertas-footer .btn.btn-secondary {
    background: #ffffff;
    color: #6b7280;
    border: 1px solid #e5e7eb;
}

.alertas-footer .btn.btn-secondary:hover {
    background: #f3f4f6;
    color: #374151;
    border-color: #d1d5db;
}

.alertas-footer .btn.btn-primary {
    background: #2563eb;
    color: white;
    border: 1px solid #2563eb;
}

.alertas-footer .btn.btn-primary:hover {
    background: #1d4ed8;
    border-color: #1d4ed8;
}

/* Responsividade para alertas de estoque */
@media (max-width: 768px) {
    .alertas-header {
        padding: 16px 20px 12px 20px;
    }
    
    .alertas-header h2 {
        font-size: 15px;
    }
    
    .alerta-item {
        padding: 14px 20px;
    }
    
    .alerta-codigo {
        font-size: 11px;
    }
    
    .alerta-descricao {
        font-size: 13px;
    }
    
    .alerta-quantidade {
        font-size: 13px;
        min-width: 50px;
    }
    
    .alertas-footer {
        padding: 12px 16px;
        flex-direction: column;
        gap: 8px;
    }
    
    .alertas-footer .btn {
        width: 100%;
        justify-content: center;
        padding: 10px 16px;
    }
}

.alertas-content {
    padding: 0;
    max-height: 300px;
    overflow-y: auto;
}

.alertas-footer {
    background: #f8fafc;
    border-top: 1px solid #e2e8f0;
    padding: 10px 18px;
    display: flex;
    gap: 10px;
}

/* Itens individuais de alerta - Compacto e profissional */
.alerta-item {
    padding: 10px 18px;
    border-bottom: 1px solid #f1f5f9;
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    cursor: pointer;
    transition: all 0.2s ease;
}

.alerta-item:hover {
    background-color: #f8fafc;
    transform: translateX(2px);
}

.alerta-item:last-child {
    border-bottom: none;
}

.alerta-main {
    flex: 1;
}

.alerta-codigo {
    font-size: 13px;
    font-weight: 700;
    color: #374151;
    margin-bottom: 3px;
    font-family: 'Inter', sans-serif;
}

.alerta-descricao {
    font-size: 11px;
    line-height: 1.3;
    font-weight: 500;
}

.alerta-descricao.estoque-baixo {
    color: #dc2626;
}

.alerta-descricao.sem-estoque {
    color: #dc2626;
}

.alerta-quantidade {
    font-size: 13px;
    font-weight: 700;
    text-align: right;
    min-width: 50px;
    font-family: 'Courier New', monospace;
}

.alerta-quantidade.estoque-baixo {
    color: #dc2626;
}

.alerta-quantidade.sem-estoque {
    color: #dc2626;
}

/* Estados especiais */
.alert-empty {
    padding: 40px 20px;
    text-align: center;
    color: #6b7280;
    font-size: 14px;
}

.alert-success {
    padding: 40px 20px;
    text-align: center;
    color: #059669;
    font-size: 14px;
    font-weight: 500;
}

.alert-error {
    padding: 20px;
    text-align: center;
    color: #dc2626;
    font-size: 14px;
}

/* Modal de Detalhes do Pedido - Design Profissional Aprimorado */
.pedido-details-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(15, 23, 42, 0.85);
    backdrop-filter: blur(16px) saturate(180%);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 10000;
    opacity: 0;
    visibility: hidden;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    padding: 20px;
}

.pedido-details-overlay.show {
    opacity: 1;
    visibility: visible;
}

.pedido-details-modal {
    background: linear-gradient(145deg, #ffffff 0%, #f8fafc 50%, #ffffff 100%);
    border-radius: 24px;
    width: 98%;
    max-width: 1400px;
    max-height: 95vh;
    overflow: hidden;
    box-shadow: 
        0 32px 64px -12px rgba(0, 0, 0, 0.25),
        0 25px 50px -12px rgba(0, 0, 0, 0.15),
        0 0 0 1px rgba(255, 255, 255, 0.1),
        inset 0 1px 0 rgba(255, 255, 255, 0.9);
    transform: scale(0.85) translateY(-30px);
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    border: 2px solid rgba(226, 232, 240, 0.3);
    position: relative;
}

.pedido-details-overlay.show .pedido-details-modal {
    transform: scale(1) translateY(0);
}

.pedido-details-modal .modal-header {
    background: linear-gradient(135deg, #1e293b 0%, #334155 50%, #475569 100%);
    color: white;
    padding: 24px 32px;
    border-bottom: 3px solid rgba(59, 130, 246, 0.3);
    position: relative;
    overflow: hidden;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

/* Efeito de brilho sutil no header */
.pedido-details-modal .modal-header::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
    animation: shimmer 3s infinite;
}

@keyframes shimmer {
    0% { left: -100%; }
    100% { left: 100%; }
}

.pedido-details-modal .header-info h2 {
    margin: 0;
    font-size: 22px;
    font-weight: 700;
    letter-spacing: -0.025em;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    display: flex;
    align-items: center;
    gap: 12px;
}

.pedido-details-modal .header-info h2 i {
    font-size: 20px;
    opacity: 0.9;
}

.pedido-details-modal .pedido-id {
    background: linear-gradient(135deg, rgba(59, 130, 246, 0.8), rgba(37, 99, 235, 0.9));
    padding: 8px 16px;
    border-radius: 12px;
    font-size: 14px;
    font-weight: 700;
    margin-top: 6px;
    display: inline-block;
    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
    border: 1px solid rgba(255, 255, 255, 0.2);
    letter-spacing: 0.5px;
}

.pedido-details-modal .modal-close {
    background: rgba(255, 255, 255, 0.1);
    border: 2px solid rgba(255, 255, 255, 0.2);
    color: white;
    font-size: 20px;
    cursor: pointer;
    padding: 12px;
    border-radius: 12px;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    width: 44px;
    height: 44px;
    display: flex;
    align-items: center;
    justify-content: center;
    backdrop-filter: blur(10px);
}

.pedido-details-modal .modal-close:hover {
    background: rgba(239, 68, 68, 0.8);
    border-color: rgba(239, 68, 68, 0.9);
    transform: scale(1.05);
    box-shadow: 0 8px 25px rgba(239, 68, 68, 0.3);
}

.pedido-details-modal .modal-body {
    padding: 0;
    max-height: calc(95vh - 180px);
    overflow-y: auto;
    overflow-x: hidden;
    background: linear-gradient(to bottom, #ffffff 0%, #f8fafc 100%);
}

/* Scrollbar personalizada para o modal */
.pedido-details-modal .modal-body::-webkit-scrollbar {
    width: 8px;
}

.pedido-details-modal .modal-body::-webkit-scrollbar-track {
    background: rgba(226, 232, 240, 0.3);
    border-radius: 4px;
}

.pedido-details-modal .modal-body::-webkit-scrollbar-thumb {
    background: linear-gradient(135deg, #3b82f6, #1e40af);
    border-radius: 4px;
    border: 2px solid transparent;
    background-clip: padding-box;
}

.pedido-details-modal .modal-body::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(135deg, #2563eb, #1d4ed8);
}

.pedido-details-container {
    padding: 28px 36px;
    background: transparent;
}

.details-section {
    margin-bottom: 32px;
    background: rgba(255, 255, 255, 0.9);
    border-radius: 16px;
    padding: 28px;
    border: 1px solid rgba(226, 232, 240, 0.5);
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.04);
    transition: all 0.3s ease;
    backdrop-filter: blur(10px);
}

.details-section:last-child {
    margin-bottom: 0;
}

.details-section:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
    border-color: rgba(59, 130, 246, 0.2);
}

.details-section h3 {
    margin: 0 0 20px 0;
    font-size: 18px;
    font-weight: 700;
    color: #1e293b;
    display: flex;
    align-items: center;
    gap: 12px;
    padding-bottom: 12px;
    border-bottom: 3px solid transparent;
    background: linear-gradient(to right, #f1f5f9, transparent) padding-box,
                linear-gradient(90deg, #3b82f6, #8b5cf6, #06d6a0) border-box;
    border-bottom: 3px solid transparent;
    border-image: linear-gradient(90deg, #3b82f6, #8b5cf6, #06d6a0) 1;
    position: relative;
}

.details-section h3::before {
    content: '';
    position: absolute;
    bottom: -3px;
    left: 0;
    width: 60px;
    height: 3px;
    background: linear-gradient(90deg, #3b82f6, #8b5cf6);
    border-radius: 2px;
}

.details-section h3 i {
    color: #3b82f6;
    font-size: 16px;
    padding: 8px;
    background: rgba(59, 130, 246, 0.1);
    border-radius: 8px;
}

.info-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 24px;
    margin-bottom: 8px;
}

.info-item {
    display: flex;
    flex-direction: column;
    gap: 10px;
    padding: 20px;
    background: linear-gradient(135deg, #f8fafc 0%, #ffffff 100%);
    border-radius: 12px;
    border: 1px solid rgba(226, 232, 240, 0.6);
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
    min-height: 80px;
}

.info-item::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 4px;
    height: 100%;
    background: linear-gradient(135deg, #3b82f6, #8b5cf6);
    transition: width 0.3s ease;
}

.info-item:hover {
    transform: translateY(-1px);
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08);
    border-color: rgba(59, 130, 246, 0.3);
}

.info-item:hover::before {
    width: 8px;
}

.info-item label {
    font-size: 12px;
    font-weight: 700;
    color: #64748b;
    text-transform: uppercase;
    letter-spacing: 0.8px;
    margin-bottom: 4px;
}

.info-item .value {
    font-size: 15px;
    font-weight: 600;
    color: #1e293b;
    display: flex;
    align-items: center;
    gap: 10px;
    line-height: 1.4;
    word-wrap: break-word;
    overflow-wrap: break-word;
    min-height: 20px;
}

.info-item .value i {
    color: #3b82f6;
    font-size: 14px;
    background: rgba(59, 130, 246, 0.1);
    padding: 6px;
    border-radius: 6px;
    min-width: 28px;
    text-align: center;
}

.info-item .value a {
    color: #3b82f6;
    text-decoration: none;
}

.info-item .value a:hover {
    text-decoration: underline;
}

.value-money {
    font-size: 16px;
    font-weight: 600;
    color: #059669;
    display: flex;
    align-items: center;
    gap: 6px;
}

.status-badge {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 10px 16px;
    border-radius: 12px;
    font-size: 13px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.8px;
    border: 2px solid transparent;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    position: relative;
    overflow: hidden;
}

.status-badge::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
    animation: statusShimmer 2s infinite;
}

@keyframes statusShimmer {
    0% { left: -100%; }
    100% { left: 100%; }
}

.status-default {
    background: linear-gradient(135deg, #f1f5f9, #e2e8f0);
    color: #475569;
    border-color: rgba(100, 116, 139, 0.2);
}

.status-success {
    background: linear-gradient(135deg, #dcfce7, #bbf7d0);
    color: #065f46;
    border-color: rgba(34, 197, 94, 0.3);
    box-shadow: 0 4px 12px rgba(34, 197, 94, 0.2);
}

.status-progress {
    background: linear-gradient(135deg, #fef3c7, #fde68a);
    color: #92400e;
    border-color: rgba(245, 158, 11, 0.3);
    box-shadow: 0 4px 12px rgba(245, 158, 11, 0.2);
}

.status-warning {
    background: linear-gradient(135deg, #fef2f2, #fecaca);
    color: #991b1b;
    border-color: rgba(239, 68, 68, 0.3);
    box-shadow: 0 4px 12px rgba(239, 68, 68, 0.2);
}

.status-danger {
    background: #fee2e2;
    color: #dc2626;
}

.produtos-details .no-products {
    padding: 20px;
    text-align: center;
    color: #6b7280;
    font-style: italic;
}

.produtos-table {
    border: 2px solid rgba(226, 232, 240, 0.6);
    border-radius: 16px;
    overflow: hidden;
    background: linear-gradient(145deg, #ffffff 0%, #f8fafc 100%);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.06);
}

.produtos-table .table-header {
    background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
    display: grid;
    grid-template-columns: 1.2fr 2.5fr 1fr 1.2fr 1.2fr;
    gap: 16px;
    padding: 20px 24px;
    font-weight: 700;
    font-size: 13px;
    color: #ffffff;
    text-transform: uppercase;
    letter-spacing: 0.8px;
    border-bottom: 3px solid rgba(59, 130, 246, 0.3);
}

.produtos-table .table-row {
    display: grid;
    grid-template-columns: 1.2fr 2.5fr 1fr 1.2fr 1.2fr;
    gap: 16px;
    padding: 20px 24px;
    border-top: 1px solid rgba(226, 232, 240, 0.4);
    font-size: 14px;
    align-items: center;
    transition: all 0.3s ease;
    position: relative;
    min-height: 60px;
}

.produtos-table .table-row:hover {
    background: linear-gradient(135deg, rgba(59, 130, 246, 0.05) 0%, rgba(147, 197, 253, 0.05) 100%);
    transform: translateX(4px);
    box-shadow: inset 4px 0 0 #3b82f6;
}

.produtos-table .codigo {
    font-family: 'SF Mono', 'Monaco', 'Cascadia Code', 'Roboto Mono', monospace;
    font-weight: 700;
    color: #1e293b;
    background: rgba(59, 130, 246, 0.1);
    padding: 8px 12px;
    border-radius: 8px;
    font-size: 12px;
    text-align: center;
    border: 1px solid rgba(59, 130, 246, 0.2);
    word-break: break-all;
    line-height: 1.3;
}

.produtos-table .descricao {
    color: #374151;
    font-weight: 500;
    line-height: 1.4;
    word-wrap: break-word;
    overflow-wrap: break-word;
    hyphens: auto;
}

.produtos-table .quantidade {
    text-align: center;
    font-weight: 700;
    color: #1e293b;
    background: rgba(16, 185, 129, 0.1);
    padding: 8px 12px;
    border-radius: 8px;
    border: 1px solid rgba(16, 185, 129, 0.2);
}

.produtos-table .valor,
.produtos-table .total {
    text-align: right;
    font-family: 'SF Mono', 'Monaco', 'Cascadia Code', 'Roboto Mono', monospace;
    font-weight: 700;
    font-size: 14px;
    color: #059669;
    padding: 8px 12px;
    background: rgba(5, 150, 105, 0.1);
    border-radius: 8px;
    border: 1px solid rgba(5, 150, 105, 0.2);
    white-space: nowrap;
    min-width: 80px;
}

.observacoes-content {
    background: #f9fafb;
    padding: 16px;
    border-radius: 8px;
    border-left: 4px solid #3b82f6;
    font-size: 14px;
    line-height: 1.6;
    color: #374151;
}

.pedido-details-modal .modal-footer {
    padding: 20px 24px;
    background: #f9fafb;
    border-top: 1px solid #e5e7eb;
}

.footer-actions {
    display: flex;
    justify-content: flex-end;
    gap: 12px;
}

.footer-actions .btn {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 10px 16px;
    border: none;
    border-radius: 6px;
    font-size: 14px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s ease;
    text-decoration: none;
}

.footer-actions .btn-secondary {
    background: #6b7280;
    color: white;
}

.footer-actions .btn-secondary:hover {
    background: #4b5563;
}

.footer-actions .btn-primary {
    background: #3b82f6;
    color: white;
}

.footer-actions .btn-primary:hover {
    background: #2563eb;
}

.footer-actions .btn-success {
    background: #059669;
    color: white;
}

.footer-actions .btn-success:hover {
    background: #047857;
}

/* Responsive */
@media (max-width: 768px) {
    .pedido-details-modal {
        width: 95%;
        max-height: 95vh;
    }
    
    .pedido-details-container {
        padding: 16px;
    }
    
    .info-grid {
        grid-template-columns: 1fr;
    }
    
    .produtos-table .table-header,
    .produtos-table .table-row {
        grid-template-columns: 1fr;
        gap: 8px;
    }
    
    .produtos-table .table-header span,
    .produtos-table .table-row span {
        padding: 4px 0;
    }
    
    .produtos-table .table-header span:before {
        content: attr(data-label) ': ';
        font-weight: normal;
        color: #6b7280;
    }
    
    .footer-actions {
        flex-direction: column;
    }
    
    .footer-actions .btn {
        justify-content: center;
    }
}

/* Formulário de Edição de Pedido */
.pedido-edit-form {
    padding: 0;
}

.pedido-edit-form .form-section {
    margin-bottom: 24px;
    padding-bottom: 20px;
    border-bottom: 1px solid #e5e7eb;
}

.pedido-edit-form .form-section:last-of-type {
    border-bottom: none;
    margin-bottom: 20px;
}

.pedido-edit-form .form-section h4 {
    margin: 0 0 16px 0;
    font-size: 16px;
    font-weight: 600;
    color: #1f2937;
    display: flex;
    align-items: center;
    gap: 8px;
}

.pedido-edit-form .form-row {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    gap: 16px;
    margin-bottom: 16px;
}

.pedido-edit-form .form-group {
    display: flex;
    flex-direction: column;
    gap: 6px;
}

.pedido-edit-form label {
    font-size: 13px;
    font-weight: 600;
    color: #374151;
    margin-bottom: 4px;
}

.pedido-edit-form .form-control {
    width: 100%;
    padding: 10px 12px;
    border: 1px solid #d1d5db;
    border-radius: 6px;
    font-size: 14px;
    transition: border-color 0.2s ease, box-shadow 0.2s ease;
    background: white;
}

.pedido-edit-form .form-control:focus {
    outline: none;
    border-color: #3b82f6;
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
}

.pedido-edit-form textarea.form-control {
    resize: vertical;
    min-height: 80px;
}

.pedido-edit-form select.form-control {
    cursor: pointer;
}

.form-actions {
    display: flex;
    justify-content: flex-end;
    gap: 12px;
    padding-top: 20px;
    border-top: 1px solid #e5e7eb;
    margin-top: 20px;
}

.form-actions .btn {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 10px 20px;
    border: none;
    border-radius: 6px;
    font-size: 14px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s ease;
    text-decoration: none;
}

.form-actions .btn-secondary {
    background: #6b7280;
    color: white;
}

.form-actions .btn-secondary:hover {
    background: #4b5563;
}

.form-actions .btn-primary {
    background: #3b82f6;
    color: white;
}

.form-actions .btn-primary:hover {
    background: #2563eb;
}

.form-actions .btn:disabled {
    opacity: 0.6;
    cursor: not-allowed;
}

/* Loading state for form buttons */
.form-actions .btn.loading {
    opacity: 0.8;
    cursor: wait;
}

/* Mobile responsive para formulário */
@media (max-width: 768px) {
    .pedido-edit-form .form-row {
        grid-template-columns: 1fr;
        gap: 12px;
    }
    
    .form-actions {
        flex-direction: column;
    }
    
    .form-actions .btn {
        justify-content: center;
        width: 100%;
    }
}

/* Melhorias Adicionais para Modal Profissional */

/* Footer do Modal com Botões de Ação */
.pedido-details-modal .modal-footer {
    padding: 24px 32px;
    background: linear-gradient(145deg, #f8fafc 0%, #ffffff 100%);
    border-top: 2px solid rgba(226, 232, 240, 0.5);
    display: flex;
    gap: 16px;
    justify-content: flex-end;
    align-items: center;
}

.pedido-details-modal .modal-footer .btn {
    padding: 12px 24px;
    border-radius: 10px;
    font-weight: 600;
    font-size: 14px;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    border: 2px solid transparent;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 8px;
    min-width: 120px;
    justify-content: center;
}

.pedido-details-modal .modal-footer .btn-edit {
    background: linear-gradient(135deg, #3b82f6, #2563eb);
    color: white;
    border-color: rgba(59, 130, 246, 0.3);
    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
}

.pedido-details-modal .modal-footer .btn-edit:hover {
    background: linear-gradient(135deg, #2563eb, #1d4ed8);
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(59, 130, 246, 0.4);
}

.pedido-details-modal .modal-footer .btn-excel {
    background: linear-gradient(135deg, #059669, #047857);
    color: white;
    border-color: rgba(5, 150, 105, 0.3);
    box-shadow: 0 4px 12px rgba(5, 150, 105, 0.3);
}

.pedido-details-modal .modal-footer .btn-excel:hover {
    background: linear-gradient(135deg, #047857, #065f46);
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(5, 150, 105, 0.4);
}

.pedido-details-modal .modal-footer .btn-close {
    background: linear-gradient(135deg, #6b7280, #4b5563);
    color: white;
    border-color: rgba(107, 114, 128, 0.3);
    box-shadow: 0 4px 12px rgba(107, 114, 128, 0.3);
}

.pedido-details-modal .modal-footer .btn-close:hover {
    background: linear-gradient(135deg, #4b5563, #374151);
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(107, 114, 128, 0.4);
}

/* Efeito de Loading para Seções */
.details-section.loading {
    position: relative;
    pointer-events: none;
}

.details-section.loading::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(255, 255, 255, 0.8);
    backdrop-filter: blur(2px);
    z-index: 10;
    border-radius: 16px;
}

.details-section.loading::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 24px;
    height: 24px;
    border: 3px solid rgba(59, 130, 246, 0.3);
    border-radius: 50%;
    border-top-color: #3b82f6;
    animation: spin 1s ease-in-out infinite;
    z-index: 11;
    transform: translate(-50%, -50%);
}

/* Melhorias para evitar corte de texto */
.pedido-details-modal * {
    box-sizing: border-box;
}

.pedido-details-modal .modal-header .header-info {
    flex: 1;
    min-width: 0;
    overflow: hidden;
}

.pedido-details-modal .modal-header h2 {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    max-width: calc(100% - 100px);
}

.pedido-details-modal .pedido-id {
    white-space: nowrap;
    flex-shrink: 0;
}

/* Garantir que a tabela seja sempre visível */
.produtos-table {
    width: 100%;
    min-width: 600px;
}

.produtos-details {
    overflow-x: auto;
    margin: -8px;
    padding: 8px;
}

/* Responsividade Aprimorada */
/* Responsividade para tablets */
@media (max-width: 1200px) {
    .pedido-details-modal {
        max-width: 95%;
    }
    
    .info-grid {
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    }
    
    .produtos-table .table-header,
    .produtos-table .table-row {
        grid-template-columns: 1fr 2fr 80px 100px 100px;
        gap: 12px;
    }
}

@media (max-width: 768px) {
    .pedido-details-modal {
        width: 96%;
        max-width: none;
        margin: 20px auto;
        border-radius: 20px;
        max-height: 90vh;
    }
    
    .pedido-details-modal .modal-header {
        padding: 20px 24px;
    }
    
    .pedido-details-modal .modal-header h2 {
        font-size: 18px;
    }
    
    .pedido-details-container {
        padding: 20px;
    }
    
    .info-grid {
        grid-template-columns: 1fr;
        gap: 16px;
    }
    
    .info-item {
        padding: 16px;
        min-height: auto;
    }
    
    /* Tabela responsiva melhorada */
    .produtos-table {
        overflow-x: auto;
    }
    
    .produtos-table .table-header,
    .produtos-table .table-row {
        grid-template-columns: 100px 1fr 80px 100px 100px;
        gap: 8px;
        font-size: 12px;
        padding: 16px 12px;
    }
    
    .produtos-table .codigo {
        font-size: 10px;
        padding: 6px 8px;
    }
    
    .produtos-table .descricao {
        font-size: 12px;
        line-height: 1.3;
    }
    
    .produtos-table .valor,
    .produtos-table .total {
        font-size: 12px;
        padding: 6px 8px;
    }
    
    .pedido-details-modal .modal-footer {
        flex-direction: column;
        gap: 12px;
        padding: 20px;
    }
    
    .pedido-details-modal .modal-footer .btn {
        width: 100%;
    }
}